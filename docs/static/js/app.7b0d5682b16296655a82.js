webpackJsonp([1],{"26wb":function(e,t){},"4JYb":function(e,t){},"4xY6":function(e,t){},"500C":function(e,t){},"5NYy":function(e,t){},"5myX":function(e,t){},"88sV":function(e,t){},A8Rc:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),i=n("2QDH"),a=n.n(i),o=n("woOf"),r=n.n(o),l=n("mvHQ"),c=n.n(l),d=n("c/Tr"),u=n.n(d),m=n("QttI"),h=n.n(m),f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.object[e.setting],expression:"object[setting]"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:e.id},domProps:{checked:Array.isArray(e.object[e.setting])?e._i(e.object[e.setting],null)>-1:e.object[e.setting]},on:{change:function(t){var n=e.object[e.setting],s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&e.$set(e.object,e.setting,n.concat([null])):a>-1&&e.$set(e.object,e.setting,n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.object,e.setting,i)}}}),e._v(" "),n("label",{staticClass:"form-check-label",attrs:{for:e.id}},[e._v(e._s(e.label))])])},staticRenderFns:[]};var p={name:"CanvasSettings",components:{InputCheckbox:n("VU/8")({name:"InputCheckbox",props:["object","setting","label"],computed:{id:function(){return"checkbox-"+this.setting.toLowerCase()}}},f,!1,function(e){n("llE5")},"data-v-822fe028",null).exports},props:["config"]},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"canvas-settings-container"}},[n("transition",{attrs:{name:"slide-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.config.display,expression:"config.display"}],attrs:{id:"canvas-settings"}},[n("div",[n("div",[e._v("Zoom (scroll canvas)")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.scale,expression:"config.scale",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",staticStyle:{width:"50%"},attrs:{type:"number",min:"0",max:e.config.scaleMax,step:"0.001"},domProps:{value:e.config.scale},on:{input:function(t){t.target.composing||e.$set(e.config,"scale",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",{staticStyle:{"grid-column":"span 2"}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.scale,expression:"config.scale",modifiers:{number:!0}}],staticClass:"form-control-range",attrs:{type:"range",min:e.config.scaleMin,max:e.config.scaleMax,step:"0.001"},domProps:{value:e.config.scale},on:{__r:function(t){e.$set(e.config,"scale",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",[e._v("Origin offset (drag canvas)")]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.x,expression:"config.x",modifiers:{number:!0}}],staticClass:"form-control-range",attrs:{type:"range",min:"0",max:e.config.canvasW},domProps:{value:e.config.x},on:{__r:function(t){e.$set(e.config,"x",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.y,expression:"config.y",modifiers:{number:!0}}],staticClass:"form-control-range",staticStyle:{direction:"rtl"},attrs:{type:"range",min:"0",max:e.config.canvasH},domProps:{value:e.config.y},on:{__r:function(t){e.$set(e.config,"y",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",[n("div",[e._v("Signifiicant figures (1-9)")]),e._v(" "),n("div",{staticStyle:{width:"70%"}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.significantFigures,expression:"config.significantFigures",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{type:"number",min:"1",max:"9"},domProps:{value:e.config.significantFigures},on:{input:function(t){t.target.composing||e.$set(e.config,"significantFigures",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),n("div",[n("div",[e._v("Diagram scale")]),e._v(" "),n("div",{staticStyle:{width:"70%"}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.diagramScale,expression:"config.diagramScale",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{type:"number",step:"0.1"},domProps:{value:e.config.diagramScale},on:{input:function(t){t.target.composing||e.$set(e.config,"diagramScale",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),n("input-checkbox",{staticStyle:{"grid-column-start":"1"},attrs:{object:e.config,setting:"nodeLabels",label:"Node labels"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"appliedForces",label:"Nodal loads"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"elementLoads",label:"Distributed loads"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"supports",label:"Supports"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"elementForces",label:"Axial forces"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"reactions",label:"Reactions"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"displacements",label:"Displacements"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"momentDiagrams",label:"Moment diagrams"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"axes",label:"Axes"}})],1)]),e._v(" "),n("div",{attrs:{id:"canvas-header"}},[n("div",[e._v("Canvas")]),e._v(" "),n("button",{staticClass:"btn btn-outline-dark",on:{click:function(t){e.config.display=!e.config.display}}},[e._v("⚙")])])],1)},staticRenderFns:[]};var g=n("VU/8")(p,v,!1,function(e){n("88sV")},"data-v-1ffe0673",null).exports,x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-container"},[n("div",{staticClass:"list-header"},[n("div",{staticClass:"list-heading",staticStyle:{"grid-column":"span 9"}},[n("div",[e._v(e._s(e.heading)+" ("+e._s(e.array.length)+") ")]),e._v(" "),n("button",{staticClass:"btn btn-outline-dark",staticStyle:{"margin-left":"0.5rem"},on:{click:function(t){e.$emit("expand")}}},[n("i",{staticClass:"icon-unfold-more"})]),e._v(" "),n("button",{staticClass:"btn btn-outline-dark",on:{click:function(t){e.$emit("collapse")}}},[n("i",{staticClass:"icon-unfold-less"})])]),e._v(" "),e._t("header")],2),e._v(" "),n("transition-group",{attrs:{name:"list",tag:"ul"}},[e._t("default")],2)],1)},staticRenderFns:[]};var w=n("VU/8")({name:"TableArray",props:["heading","array"]},x,!1,function(e){n("bZ+M")},"data-v-6ec2355f",null).exports,y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-dark row-submission"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newNodeX,expression:"newNodeX",modifiers:{number:!0}}],staticClass:"cell cell-input form-control form-control-sm",staticStyle:{"grid-column":"2 / 5"},attrs:{type:"text",placeholder:"X",oninput:"this.value = this.value.replace(/[^0-9.-]/g, '').replace(/(\\\\..*)\\\\./g, '$1')"},domProps:{value:e.newNodeX},on:{input:function(t){t.target.composing||(e.newNodeX=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newNodeY,expression:"newNodeY",modifiers:{number:!0}}],staticClass:"cell cell-input form-control form-control-sm",attrs:{type:"text",placeholder:"Y",oninput:"this.value = this.value.replace(/[^0-9.-]/g, '').replace(/(\\\\..*)\\\\./g, '$1')"},domProps:{value:e.newNodeY},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submitNode(t):null},input:function(t){t.target.composing||(e.newNodeY=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("div",{staticClass:"cell-button"},[n("button",{staticClass:"btn btn-outline-success submit",attrs:{type:"button"},on:{click:e.submitNode}},[e._m(0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("b",[t("i",{staticClass:"icon-add"})])}]};var b=n("VU/8")({name:"NodeRowAdd",props:["nodes"],data:function(){return{newNodeX:"",newNodeY:""}},methods:{submitNode:function(){this.$emit("submit",{x:""===this.newNodeX?0:this.newNodeX,y:""===this.newNodeY?0:this.newNodeY}),this.newNodeX="",this.newNodeY=""}}},y,!1,function(e){n("500C")},"data-v-73b5bac9",null).exports,S={name:"InputNumber",props:{node:Object,inputValue:String,step:{type:Number,default:1}},data:function(){return{showSpinner:!1,timeout:null,interval:null}},computed:{hasSlotData:function(){return this.$slots.default}},methods:{increment:function(e){var t=this;this.node[this.inputValue]+=e,this.timeout=setTimeout(function(){t.interval=setInterval(function(){t.node[t.inputValue]+=e},25)},250)},clearTiming:function(){clearTimeout(this.timeout),clearInterval(this.interval)}}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group input-group-sm",on:{mouseover:function(t){e.showSpinner=!0},mouseleave:function(t){e.showSpinner=!1}}},[e.hasSlotData?n("div",{staticClass:"input-group-prepend"},[e._t("default")],2):e._e(),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.node[e.inputValue],expression:"node[inputValue]",modifiers:{number:!0}}],staticClass:"cell-input form-control form-control-sm",attrs:{type:"number",step:"any"},domProps:{value:e.node[e.inputValue]},on:{input:function(t){t.target.composing||e.$set(e.node,e.inputValue,e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),e.showSpinner?n("div",{staticClass:"input-group-append btn-spinner"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",tabindex:"-1"},on:{mousedown:function(t){e.increment(e.step)},mouseup:e.clearTiming,mouseleave:e.clearTiming,touchstart:function(t){e.increment(e.step)},touchend:e.clearTiming}},[e._v("▵")]),e._v(" "),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",tabindex:"-1"},on:{mousedown:function(t){e.increment(-e.step)},mouseup:e.clearTiming,mouseleave:e.clearTiming,touchstart:function(t){e.increment(-e.step)},touchend:e.clearTiming}},[e._v("▿")])]):e._e()])},staticRenderFns:[]};var N=n("VU/8")(S,C,!1,function(e){n("5NYy")},"data-v-076b5714",null).exports,F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group-text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model[e.val],expression:"model[val]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.model[e.val])?e._i(e.model[e.val],null)>-1:e.model[e.val]},on:{change:function(t){var n=e.model[e.val],s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&e.$set(e.model,e.val,n.concat([null])):a>-1&&e.$set(e.model,e.val,n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.model,e.val,i)}}})])},staticRenderFns:[]};var k={name:"NodeRow",components:{InputNumber:N,InputNumberCheckbox:n("VU/8")({name:"InputNumberCheckbox",props:["model","val"]},F,!1,function(e){n("A8Rc")},"data-v-7e048b55",null).exports},props:["node","nodes"],data:function(){return{showOptions:!1}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-item"},[n("div",{staticClass:"node-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.node.n,expression:"node.n"}],staticClass:"cell-input form-control form-control-sm form-control-plaintext",attrs:{type:"text"},domProps:{value:e.node.n},on:{input:function(t){t.target.composing||e.$set(e.node,"n",t.target.value)}}}),e._v(" "),n("input-number",{staticClass:"cell",attrs:{node:e.node,"input-value":"x"}}),e._v(" "),n("input-number",{staticClass:"cell",attrs:{node:e.node,"input-value":"y"}}),e._v(" "),n("div",{staticClass:"cell-button"},[n("button",{staticClass:"btn btn-outline-secondary options",attrs:{type:"button"},on:{click:function(t){e.showOptions=!e.showOptions}}},[n("i",{class:{"icon-expand-more":!e.showOptions,"icon-expand-less":e.showOptions}})]),e._v(" "),n("button",{staticClass:"btn btn-outline-danger delete",attrs:{type:"button"},on:{click:function(t){e.$emit("remove")}}},[n("i",{staticClass:"icon-close"})])])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"node-row"},[n("input-number",{staticClass:"cell row-options",attrs:{node:e.node,"input-value":"qx"}},[n("input-number-checkbox",{staticStyle:{"background-color":"#eccdcd"},attrs:{model:e.node,val:"rx"}})],1),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{node:e.node,"input-value":"qy"}},[n("input-number-checkbox",{staticStyle:{"background-color":"#c0e9c0"},attrs:{model:e.node,val:"ry"}})],1),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{node:e.node,"input-value":"qz"}},[n("input-number-checkbox",{staticStyle:{"background-color":"#c0d6ec"},attrs:{model:e.node,val:"rz"}})],1)],1)])},staticRenderFns:[]};var R=n("VU/8")(k,E,!1,function(e){n("26wb")},"data-v-616cd30e",null).exports,M={name:"NodeCircle",props:["node","displacements","reactions","view"],computed:{dx:function(){return""===this.node.x?0:this.node.x*this.view.scale},dy:function(){return""===this.node.y?0:this.node.y*this.view.scale},x:function(){return this.view.x+this.dx},y:function(){return this.view.y-this.dy},fX:function(){return""===this.node.qx?0:this.node.qx},fY:function(){return""===this.node.qy?0:this.node.qy},mZ:function(){return""===this.node.qz?0:this.node.qz},f:function(){return h.a.sqrt(Math.pow(this.fX,2)+Math.pow(this.fY,2))},fRounded:function(){return this.f.toPrecision(this.view.significantFigures)},mZRounded:function(){return Math.abs(this.mZ.toPrecision(this.view.significantFigures))},rxRounded:function(){return this.roundSig(this.reactions.fx)},ryRounded:function(){return this.roundSig(this.reactions.fy)},rzRounded:function(){return this.roundSig(this.reactions.mz)},dxRounded:function(){return this.roundSig(this.displacements.fx)},dyRounded:function(){return this.roundSig(this.displacements.fy)},dzRounded:function(){return this.roundSig(this.displacements.mz)},reactionXTriangle:function(){return this.x-6+","+this.y+" "+(this.x-11)+","+(this.y-4)+" "+(this.x-11)+","+(this.y+4)},reactionYTriangle:function(){return this.x+","+(this.y+6)+" "+(this.x+4)+","+(this.y+11)+" "+(this.x-4)+","+(this.y+11)},reactionZTriangle:function(){return this.x-4+","+(this.y+4)+" "+(this.x-10.3)+","+(this.y+4.7)+" "+(this.x-4.7)+","+(this.y+10.3)},forcePathDefinition:function(){return 0===this.f?"":"M"+(this.x-50*this.fX/this.f)+","+(this.y+50*this.fY/this.f)+"L"+(this.x-10*this.fX/this.f)+","+(this.y+10*this.fY/this.f)},momentPathDefinition:function(){return 0===this.mZ?"":"M"+(this.x-7.5)+","+(this.y+13*h.a.sign(this.mZ))+"A 15 15 0 1 "+(h.a.sign(this.mZ)-1)/-2+(this.x-7.5)+","+(this.y-13*h.a.sign(this.mZ))},forceTextX:function(){return 0===this.f?0:this.x-55*this.fX/this.f},forceTextY:function(){return 0===this.f?0:this.y+55*this.fY/this.f}},methods:{roundSig:function(e){return h.a.equal(e,0)?0:e.toPrecision(this.view.significantFigures)}}},q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",[n("defs",[n("marker",{attrs:{id:"head",orient:"auto",markerWidth:"6",markerHeight:"6",refX:"2.5",refY:"3"}},[n("path",{staticClass:"load-arrow",attrs:{d:"M1,1 L3,3 L1,5"}})])]),e._v(" "),n("circle",{staticClass:"circle-node",attrs:{cx:e.x,cy:e.y,r:"1.5"}}),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"circle-node",attrs:{cx:e.x,cy:e.y,r:"5"}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"node-label",staticStyle:{"stroke-width":"2px",stroke:"black"},attrs:{x:e.x,y:e.y+3.5}},[e._v(e._s(e.node.n))]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"node-label",attrs:{x:e.x,y:e.y+3.5}},[e._v(e._s(e.node.n))]),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.f,expression:"view.appliedForces && f !== 0"}],staticClass:"path-force",attrs:{d:e.forcePathDefinition}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.f,expression:"view.appliedForces && f !== 0"}],staticClass:"load-text",attrs:{x:e.forceTextX,y:e.forceTextY}},[e._v(e._s(e.fRounded))]),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.mZ,expression:"view.appliedForces && mZ !== 0"}],staticClass:"path-force",attrs:{d:e.momentPathDefinition}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.mZ,expression:"view.appliedForces && mZ !== 0"}],staticClass:"load-text",attrs:{x:e.x+13,y:e.y-13}},[e._v(e._s(e.mZRounded))]),e._v(" "),n("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.rx&&e.view.supports,expression:"node.rx && view.supports"}],staticClass:"support fx",attrs:{points:e.reactionXTriangle}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.rx,expression:"view.reactions && node.rx"}],staticClass:"fx",attrs:{x:e.x-20,y:e.y+3}},[e._v(e._s(e.rxRounded))]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"fx",attrs:{x:e.x-20,y:e.y+3}},[e._v(e._s(e.dxRounded))]),e._v(" "),n("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.ry&&e.view.supports,expression:"node.ry && view.supports"}],staticClass:"support fy",attrs:{points:e.reactionYTriangle}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.ry,expression:"view.reactions && node.ry"}],staticClass:"fy",attrs:{x:e.x-5,y:e.y+25}},[e._v(e._s(e.ryRounded))]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"fy",attrs:{x:e.x-5,y:e.y+25}},[e._v(e._s(e.dyRounded))]),e._v(" "),n("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.rz&&e.view.supports,expression:"node.rz && view.supports"}],staticClass:"support mz",attrs:{points:e.reactionZTriangle}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.rz,expression:"view.reactions && node.rz"}],staticClass:"mz",attrs:{x:e.x-20,y:e.y+25}},[e._v(e._s(e.rzRounded))]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"mz",attrs:{x:e.x-20,y:e.y+25}},[e._v(e._s(e.dzRounded))])])},staticRenderFns:[]};var D=n("VU/8")(M,q,!1,function(e){n("ey47")},"data-v-043142da",null).exports,$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-dark row-submission"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.newStart,expression:"newStart"}],staticClass:"cell cell-input form-control form-control-sm",staticStyle:{"grid-column":"2 / 5"},attrs:{placeholder:"#"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.newStart=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:"",value:""}},[e._v("N1")]),e._v(" "),e._l(e.nodes,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.n))])})],2),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newEnd,expression:"newEnd"}],staticClass:"cell cell-input form-control form-control-sm",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submitElement(t):null},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.newEnd=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:"",value:""}},[e._v("N2")]),e._v(" "),e._l(e.nodes,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.n))])})],2),e._v(" "),n("div",{staticClass:"cell-button"},[n("button",{staticClass:"btn btn-outline-success submit",attrs:{type:"button"},on:{click:e.submitElement}},[n("i",{staticClass:"icon-add"})])])])},staticRenderFns:[]};var z=n("VU/8")({name:"ElementRowAdd",props:["elements","nodes"],data:function(){return{newStart:"",newEnd:""}},methods:{submitElement:function(){this.$emit("submit",{start:this.newStart,end:this.newEnd}),this.newStart="",this.newEnd=""}}},$,!1,function(e){n("kd9U")},"data-v-3b02df7b",null).exports,O={name:"ElementRow",components:{InputNumber:N},props:["element","nodes"],data:function(){return{showOptions:!1}},computed:{optionsArrow:function(){return this.showOptions?"▲":"▼"},dX:function(){return this.element.end.x-this.element.start.x},dY:function(){return this.element.end.y-this.element.start.y},length:function(){return math.sqrt(Math.pow(this.dX,2)+Math.pow(this.dY,2))}}},Y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-item"},[n("div",{staticClass:"elem-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.n,expression:"element.n"}],staticClass:"cell-input form-control form-control-sm form-control-plaintext",attrs:{type:"text"},domProps:{value:e.element.n},on:{input:function(t){t.target.composing||e.$set(e.element,"n",t.target.value)}}}),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.element.start,expression:"element.start"}],staticClass:"cell cell-input form-control form-control-sm",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.element,"start",t.target.multiple?n:n[0])}}},e._l(e.nodes,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.n))])})),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.element.end,expression:"element.end"}],staticClass:"cell cell-input form-control form-control-sm",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.element,"end",t.target.multiple?n:n[0])}}},e._l(e.nodes,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.n))])})),e._v(" "),n("div",{staticClass:"cell-button"},[n("button",{staticClass:"btn btn-outline-secondary options",attrs:{type:"button"},on:{click:function(t){e.showOptions=!e.showOptions}}},[n("i",{class:{"icon-expand-more":!e.showOptions,"icon-expand-less":e.showOptions}})]),e._v(" "),n("button",{staticClass:"btn btn-outline-danger delete",attrs:{type:"button"},on:{click:function(t){e.$emit("remove")}}},[n("i",{staticClass:"icon-close"})])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"elem-row"},[n("input-number",{staticClass:"cell row-options",attrs:{title:"elastic modulus, E",node:e.element,"input-value":"e"}},[n("div",{staticClass:"input-group-text"},[e._v("E")])]),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{title:"area, A",node:e.element,"input-value":"a"}},[n("div",{staticClass:"input-group-text"},[e._v("A")])]),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{title:"moment of inertia, I_z",node:e.element,"input-value":"iz"}},[n("div",{staticClass:"input-group-text"},[e._v("I"),n("sub",[e._v("z")])])]),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{title:"area, A",node:e.element,"input-value":"w",step:.1}},[n("div",{staticClass:"input-group-text"},[e._v("w")])]),e._v(" "),n("div",{staticClass:"cell form-check form-check-inline row-options",staticStyle:{"justify-content":"flex-start"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.startRigid,expression:"element.startRigid"}],staticClass:"form-check-input",attrs:{title:"rigid start connection",type:"checkbox"},domProps:{checked:Array.isArray(e.element.startRigid)?e._i(e.element.startRigid,null)>-1:e.element.startRigid},on:{change:function(t){var n=e.element.startRigid,s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&e.$set(e.element,"startRigid",n.concat([null])):a>-1&&e.$set(e.element,"startRigid",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.element,"startRigid",i)}}}),e._v(" "),n("label",{staticClass:"form-check-label",attrs:{title:"rigid start connection"}},[e._v("Rigid start")])]),e._v(" "),n("div",{staticClass:"cell form-check form-check-inline row-options",staticStyle:{"justify-content":"flex-start"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.endRigid,expression:"element.endRigid"}],staticClass:"form-check-input",attrs:{title:"rigid end connection",type:"checkbox"},domProps:{checked:Array.isArray(e.element.endRigid)?e._i(e.element.endRigid,null)>-1:e.element.endRigid},on:{change:function(t){var n=e.element.endRigid,s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&e.$set(e.element,"endRigid",n.concat([null])):a>-1&&e.$set(e.element,"endRigid",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.element,"endRigid",i)}}}),e._v(" "),n("label",{staticClass:"form-check-label",attrs:{title:"rigid end connection"}},[e._v("Rigid end")])])],1)])},staticRenderFns:[]};var A=n("VU/8")(O,Y,!1,function(e){n("4xY6")},"data-v-014b591d",null).exports,P={name:"ElementPath",props:["element","end-forces","element-force","view","moment-scale"],computed:{l:function(){return Math.sqrt(Math.pow(this.element.end.x-this.element.start.x,2)+Math.pow(this.element.end.y-this.element.start.y,2))},xStart:function(){return this.view.x+this.view.scale*this.element.start.x},yStart:function(){return this.view.y-this.view.scale*this.element.start.y},xEnd:function(){return this.view.x+this.view.scale*this.element.end.x},yEnd:function(){return this.view.y-this.view.scale*this.element.end.y},elementPathDefinition:function(){return"M"+this.xStart+","+this.yStart+"L"+this.xEnd+","+this.yEnd},wPathDefinition:function(){var e="m"+12*this.xPerp*a()(this.element.w)+","+12*this.yPerp*a()(this.element.w)+"l"+(this.xEnd-this.xStart)/3*a()(this.element.w)+","+(this.yEnd-this.yStart)/3*a()(this.element.w)+"l"+(this.xEnd-this.xStart)/3*a()(this.element.w)+","+(this.yEnd-this.yStart)/3*a()(this.element.w)+"l"+(this.xEnd-this.xStart)/3*a()(this.element.w)+","+(this.yEnd-this.yStart)/3*a()(this.element.w);return 1===a()(this.element.w)?"M"+this.xStart+","+this.yStart+e:"M"+this.xEnd+","+this.yEnd+e},momentDiagram:function(){return"M"+(this.xStart-this.endForces[2]*this.momentScale*this.view.diagramScale*this.xPerp)+","+(this.yStart-this.endForces[2]*this.momentScale*this.view.diagramScale*this.yPerp)+"Q"+(this.xMid+(.5*this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.xPerp)+","+(this.yMid+(.5*this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.yPerp)+" "+(this.xEnd+(-.5*this.element.w*this.l*this.l+this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.xPerp)+","+(this.yEnd+(-.5*this.element.w*this.l*this.l+this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.yPerp)},forceRounded:function(){return h.a.equal(this.elementForce,0)?0:this.elementForce.toPrecision(this.view.significantFigures)},topRotate:function(){return this.element.start.x<this.element.end.x?0:180},xMid:function(){return(this.xStart+this.xEnd)/2},yMid:function(){return(this.yStart+this.yEnd)/2},xPerp:function(){return(-this.yStart+this.yEnd)/(this.l*this.view.scale)},yPerp:function(){return(-this.xEnd+this.xStart)/(this.l*this.view.scale)},xStartOffset:function(){return this.xStart+.125*(this.xEnd-this.xStart)},yStartOffset:function(){return this.yStart+.125*(this.yEnd-this.yStart)},xEndOffset:function(){return this.xStart+.875*(this.xEnd-this.xStart)},yEndOffset:function(){return this.yStart+.875*(this.yEnd-this.yStart)},transformList:function(){return"rotate("+this.topRotate+" "+this.xMid+" "+this.yMid+")"}}},X={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",[n("defs",[n("marker",{attrs:{id:"arrow",orient:"auto",markerWidth:"6",markerHeight:"20",refX:"3",refY:"0"}},[n("path",{staticClass:"load-arrow",attrs:{d:"M3,0 L3,10","marker-end":"url(#head)"}})])]),e._v(" "),n("path",{staticClass:"path-element",attrs:{id:"path"+e.element.id,d:e.elementPathDefinition}}),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:0!==e.element.w&&e.view.elementLoads,expression:"element.w !== 0 && view.elementLoads"}],staticClass:"path-element-load",attrs:{id:"pathw"+e.element.id,d:e.wPathDefinition}}),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams,expression:"view.momentDiagrams"}],staticClass:"path-moment-diagram",attrs:{d:e.momentDiagram}}),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:!e.element.startRigid,expression:"!element.startRigid"}],staticClass:"circle-release",attrs:{cx:e.xStartOffset,cy:e.yStartOffset,r:"2"}}),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:!e.element.endRigid,expression:"!element.endRigid"}],staticClass:"circle-release",attrs:{cx:e.xEndOffset,cy:e.yEndOffset,r:"2"}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.elementForces,expression:"view.elementForces"}],staticClass:"select-all",attrs:{transform:e.transformList}},[n("textPath",{attrs:{href:"#path"+e.element.id,startOffset:"50%","text-anchor":"middle"}},[n("tspan",{attrs:{dy:"-.25em"}},[e._v(e._s(e.forceRounded))])])]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:0!==e.element.w&&e.view.elementLoads,expression:"element.w !== 0 && view.elementLoads"}],staticClass:"select-all"},[n("textPath",{attrs:{href:"#pathw"+e.element.id,startOffset:"50%","text-anchor":"middle"}},[n("tspan",{staticClass:"load-text",attrs:{dy:"-0.25em"}},[e._v(e._s(Math.abs(e.element.w)))])])])])},staticRenderFns:[]};var T={name:"App",components:{CanvasSettings:g,NodeCircle:D,ElementPath:n("VU/8")(P,X,!1,function(e){n("e7Ez")},"data-v-7a0cf7c4",null).exports,TableArray:w,NodeRowAdd:b,NodeRow:R,ElementRowAdd:z,ElementRow:A},data:function(){return{nodes:[],elements:[],nextUniqueId:1,nextElementId:-1,config:{appliedForces:!0,axes:!0,significantFigures:3,display:!1,diagramScale:1,elementForces:!0,elementLoads:!0,momentDiagrams:!1,nodeLabels:!0,x:256,y:200,reactions:!0,scale:3,scaleMin:.01,scaleMax:20,supports:!0,canvasW:512,canvasH:472},scroll:0,captureToggle:!1,panX:0,panY:0,prevDiff:-1,midX:0,midY:0}},computed:{axisXDef:function(){return"M0,"+this.config.y+"L1000,"+this.config.y},axisYDef:function(){return"M"+this.config.x+",0L"+this.config.x+",1000"},dofF:function(){for(var e=0,t=[],n=0;n<this.nodes.length;n++){var s=this.nodes[n];s.rx||t.push({n:e++,node:s,element:null,force:s.qx,dir:"fx",support:!1}),s.ry||t.push({n:e++,node:s,element:null,force:s.qy,dir:"fy",support:!1});for(var i=!1,a=0;a<s.incElements.length;a++){var o=s.incElements[a];(o.start===s&&o.startRigid||o.end===s&&o.endRigid)&&(i=!0),(o.start===s&&!o.startRigid||o.end===s&&!o.endRigid)&&t.push({n:e++,node:s,element:o,force:0,dir:"mz",support:!1})}i&&!s.rz&&t.push({n:e++,node:s,element:null,force:s.qz,dir:"mz",support:!1})}return t},dofS:function(){for(var e=this.nF,t=[],n=0;n<this.nodes.length;n++){var s=this.nodes[n];s.rx&&t.push({n:e++,node:s,element:null,force:s.qx,dir:"fx",support:!0}),s.ry&&t.push({n:e++,node:s,element:null,force:s.qy,dir:"fy",support:!0}),s.rz&&t.push({n:e++,node:s,element:null,force:s.qz,dir:"mz",support:!0})}return t},dof:function(){return this.dofF.concat(this.dofS)},nF:function(){return this.dofF.length},nS:function(){return this.dofS.length},keysF:function(){return u()(this.dofF.keys())},keysS:function(){var e=this;return u()(this.dofS.keys()).map(function(t){return t+e.nF})},elementStiffnessMatrices:function(){for(var e=[],t=0;t<this.elements.length;t++)e.push(this.getElementKGlobal(this.elements[t]));return e},k:function(){for(var e=this.dof.length,t=Array(e).fill().map(function(){return Array(e).fill(h.a.bignumber(0))}),n=0;n<this.elements.length;n++)for(var s=this.elements[n],i=this.getElementKGlobal(s),a=[this.getDOF(s.start,"fx").n,this.getDOF(s.start,"fy").n,s.startRigid?this.getDOF(s.start,"mz").n:this.getDOF(s.start,"mz",s).n,this.getDOF(s.end,"fx").n,this.getDOF(s.end,"fy").n,s.endRigid?this.getDOF(s.end,"mz").n:this.getDOF(s.end,"mz",s).n],o=0;o<6;o++)for(var r=0;r<6;r++)t[a[o]][a[r]]=h.a.add(t[a[o]][a[r]],i[o][r]);return t},kFF:function(){return 0===this.k.length||0===this.nF?[]:h.a.subset(this.k,h.a.index(this.keysF,this.keysF))},kSF:function(){return 0===this.nF||0===this.nS?[]:h.a.subset(this.k,h.a.index(this.keysS,this.keysF))},kSS:function(){return 0===this.nF||0===this.nS?[]:h.a.subset(this.k,h.a.index(this.keysS,this.keysS))},isUnstable:function(){return 0===this.kFF.length||h.a.smaller(h.a.abs(h.a.det(this.kFF)),h.a.bignumber("2e-20"))},qF:function(){return h.a.bignumber(this.dofF.map(function(e){return e.force}))},qS0:function(){return h.a.bignumber(this.dofS.map(function(e){return e.force}))},dS:function(){return h.a.bignumber(Array(this.nS).fill(0))},qS:function(){return 0===this.kSF.length&&0===h.a.transpose(this.dF).length?[]:this.isUnstable?[]:h.a.subtract(h.a.add(h.a.multiply(this.kSF,h.a.transpose(this.dF)),this.qWS),this.qS0)},dF:function(){return 0===this.kFF.length&&0===h.a.transpose(h.a.subtract(this.qF,this.qWF)).length?[]:this.isUnstable?[]:h.a.multiply(h.a.inv(this.kFF),h.a.subtract(this.qF,this.qWF))},qW:function(){for(var e=[],t=0;t<this.dof.length;t++){for(var n=this.dof[t],s=0,i=0;i<n.node.incElements.length;i++){var a=n.node.incElements[i],o=a.end.x-a.start.x,r=a.end.y-a.start.y,l=h.a.sqrt(Math.pow(o,2)+Math.pow(r,2));"fx"===n.dir?s+=a.w*l/2*(-r/l):"fy"===n.dir?s+=a.w*l/2*(o/l):n.node===a.start&&(n.element===a||null===n.element&&a.startRigid)?s+=a.w*l*l/12:n.node===a.end&&(n.element===a||null===n.element&&a.endRigid)&&(s-=a.w*l*l/12)}e.push(s)}return h.a.bignumber(e)},qWF:function(){return 0===this.keysF.length?[]:h.a.subset(this.qW,h.a.index(this.keysF))},qWS:function(){return h.a.subset(this.qW,h.a.index(this.keysS))},nodeReactions:function(){var e=this;return this.nodes.map(function(t){return{fx:e.getNodeReaction(t,"fx"),fy:e.getNodeReaction(t,"fy"),mz:e.getNodeReaction(t,"mz")}})},nodeDisplacements:function(){var e=this;return this.nodes.map(function(t){return{fx:e.getNodeDisplacement(t,"fx"),fy:e.getNodeDisplacement(t,"fy"),mz:e.getNodeDisplacement(t,"mz")}})},elementDisplacements:function(){for(var e=[],t=0;t<this.elements.length;t++){var n=this.elements[t];e.push([this.getNodeDisplacement(n.start,"fx"),this.getNodeDisplacement(n.start,"fy"),n.startRigid?this.getNodeDisplacement(n.start,"mz"):this.getNodeDisplacement(n.start,"mz",n),this.getNodeDisplacement(n.end,"fx"),this.getNodeDisplacement(n.end,"fy"),n.endRigid?this.getNodeDisplacement(n.end,"mz"):this.getNodeDisplacement(n.end,"mz",n)])}return e},elementEndForces:function(){for(var e=[],t=0;t<this.elements.length;t++){var n=h.a.add(h.a.multiply(this.elementStiffnessMatrices[t],this.elementDisplacements[t]),this.elementFixedEndForces[t]);e.push(n)}return e},elementMaxMoment:function(){for(var e=0,t=0;t<this.elements.length;t++)if(h.a.abs(this.elementEndForces[t][2])>e&&(e=h.a.abs(this.elementEndForces[t][2])),h.a.abs(this.elementEndForces[t][5])>e&&(e=h.a.abs(this.elementEndForces[t][5])),0!==this.elements[t].w){var n=h.a.abs(h.a.pow(this.elementEndForces[t][1],2)/(2*this.elements[t].w)-this.elementEndForces[t][2]);n>e&&(e=n)}return h.a.number(e)},momentDiagramAutoScale:function(){return 0===this.elementMaxMoment?1:45/this.elementMaxMoment},elementFixedEndForces:function(){for(var e=[],t=0;t<this.elements.length;t++){var n=this.elements[t],s=n.end.x-n.start.x,i=n.end.y-n.start.y,a=h.a.sqrt(Math.pow(s,2)+Math.pow(i,2));e.push([n.w*a/2*(-i/a),n.w*a/2*(s/a),n.w*a*a/12,n.w*a/2*(-i/a),n.w*a/2*(s/a),-n.w*a*a/12])}return h.a.bignumber(e)},elementForces:function(){var e=this;return this.elements.map(function(t){return e.getElementForce(t)})}},created:function(){this.loadStructure('{"nodes":[{"n":1,"x":0,"y":0,"qx":0,"qy":0,"qz":0,"rx":false,"ry":true,"rz":false},{"n":2,"x":8000,"y":0,"qx":0,"qy":0,"qz":0,"rx":false,"ry":true,"rz":false},{"n":3,"x":10000,"y":0,"qx":0,"qy":-20,"qz":0,"rx":false,"ry":false,"rz":false},{"n":4,"x":13000,"y":0,"qx":0,"qy":0,"qz":0,"rx":true,"ry":true,"rz":true}],"elements":[{"n":1,"startIndex":0,"endIndex":1,"e":200,"a":6000,"iz":200000000,"w":0.002,"startRigid":true,"endRigid":true},{"n":2,"startIndex":1,"endIndex":2,"e":200,"a":4000,"iz":50000000,"w":0,"startRigid":true,"endRigid":true},{"n":3,"startIndex":2,"endIndex":3,"e":200,"a":4000,"iz":50000000,"w":0,"startRigid":true,"endRigid":true}]}'),this.config.scale=.025},mounted:function(){this.config.canvasW=this.getCanvasWidth(),this.config.canvasH=this.getCanvasHeight(),this.config.x=this.config.canvasW/2,this.config.y=this.config.canvasH/2},methods:{getCanvasWidth:function(){return parseFloat(window.getComputedStyle(this.$refs.canvas).width)},getCanvasHeight:function(){return parseFloat(window.getComputedStyle(this.$refs.canvas).height)},saveStructure:function(){for(var e={nodes:[],elements:[]},t=0;t<this.nodes.length;t++)e.nodes.push({n:this.nodes[t].n,x:this.nodes[t].x,y:this.nodes[t].y,qx:this.nodes[t].qx,qy:this.nodes[t].qy,qz:this.nodes[t].qz,rx:this.nodes[t].rx,ry:this.nodes[t].ry,rz:this.nodes[t].rz});for(var n=0;n<this.elements.length;n++)e.elements.push({n:this.elements[n].n,startIndex:this.nodes.indexOf(this.elements[n].start),endIndex:this.nodes.indexOf(this.elements[n].end),e:this.elements[n].e,a:this.elements[n].a,iz:this.elements[n].iz,w:this.elements[n].w,startRigid:this.elements[n].startRigid,endRigid:this.elements[n].endRigid});return c()(e)},loadStructure:function(e){for(var t=JSON.parse(e),n=0;n<t.nodes.length;n++)this.addNode(t.nodes[n]);for(var s=0;s<t.elements.length;s++){var i=t.elements[s];i=r()({start:this.nodes[i.startIndex],end:this.nodes[i.endIndex]},i),this.addElement(i)}},clearStructure:function(){this.nodes=[],this.elements=[]},addNode:function(e){e=r()({id:this.nextUniqueId++,n:this.nodes.length+1,x:0,y:0,qx:0,qy:0,qz:0,rx:!1,ry:!1,rz:!1,incElements:[]},e),this.nodes.push(e)},addElement:function(e){""!==e.start&&""!==e.end&&e.start!=e.end&&(e=r()({id:this.nextElementId--,n:this.elements.length+1,start:null,end:null,e:29e3,a:1,iz:1,w:0,startRigid:!0,endRigid:!0},e),this.elements.push(e),e.start.incElements.push(e),e.end.incElements.push(e))},getDOF:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=0;s<this.dof.length;s++){var i=this.dof[s];if(i.node===e&&i.dir===t&&i.element===n)return i}return null},getElementForce:function(e){if(this.isUnstable)return NaN;var t=e.end.x-e.start.x,n=e.end.y-e.start.y,s=h.a.sqrt(Math.pow(t,2)+Math.pow(n,2)),i=[-t/s,-n/s,t/s,n/s],a=h.a.number(this.dF.concat(this.dS)),o=[a[this.getDOF(e.start,"fx").n],a[this.getDOF(e.start,"fy").n],a[this.getDOF(e.end,"fx").n],a[this.getDOF(e.end,"fy").n]];return e.e*e.a/s*h.a.dot(i,o)},getNodeReaction:function(e,t){if(this.isUnstable)return NaN;var n=this.qF.concat(this.qS),s=this.getDOF(e,t);return null===s?0:0===n.length?NaN:h.a.smaller(h.a.abs(n[s.n]),h.a.bignumber("2e-10"))?0:n[s.n]},getNodeDisplacement:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.isUnstable)return NaN;var s=this.dF.concat(this.dS),i=this.getDOF(e,t,n);return null===i?0:0===s.length?NaN:h.a.smaller(h.a.abs(s[i.n]),h.a.bignumber("2e-10"))?0:s[i.n]},getElementLength:function(e){var t=e.end.x-e.start.x,n=e.end.y-e.start.y;return h.a.sqrt(Math.pow(t,2)+Math.pow(n,2))},getElementTransform:function(e,t,n){return[[h.a.divide(e,n),h.a.divide(t,n),0,0,0,0],[h.a.unaryMinus(h.a.divide(t,n)),h.a.divide(e,n),0,0,0,0],[0,0,h.a.bignumber(1),0,0,0],[0,0,0,h.a.divide(e,n),h.a.divide(t,n),0],[0,0,0,h.a.unaryMinus(h.a.divide(t,n)),h.a.divide(e,n),0],[0,0,0,0,0,h.a.bignumber(1)]]},getElementKLocal:function(e,t,n,s){var i=h.a.pow(s,2),a=h.a.divide(h.a.multiply(12,n),i),o=h.a.divide(h.a.multiply(6,n),s),r=h.a.multiply(2,n),l=h.a.multiply(4,n);return h.a.bignumber(h.a.multiply([[t,0,0,h.a.unaryMinus(t),0,0],[0,a,o,0,h.a.unaryMinus(a),o],[0,o,l,0,h.a.unaryMinus(o),r],[h.a.unaryMinus(t),0,0,t,0,0],[0,h.a.unaryMinus(a),h.a.unaryMinus(o),0,a,h.a.unaryMinus(o)],[0,o,r,0,h.a.unaryMinus(o),l]],h.a.divide(e,s)))},getElementKGlobal:function(e){var t=h.a.bignumber(e.end.x-e.start.x),n=h.a.bignumber(e.end.y-e.start.y),s=h.a.sqrt(h.a.add(h.a.pow(t,2),h.a.pow(n,2))),i=""===e.e?h.a.bignumber(0):h.a.bignumber(e.e),a=""===e.a?h.a.bignumber(0):h.a.bignumber(e.a),o=""===e.iz?h.a.bignumber(0):h.a.bignumber(e.iz),r=this.getElementTransform(t,n,s),l=this.getElementKLocal(i,a,o,s);return h.a.multiply(h.a.transpose(r),l,r)},removeNodeByIndex:function(e,t,n){for(var s=0;s<t.length;s++)t[s].start.n!==e[n].n&&t[s].end.n!==e[n].n||(this.removeElementByIndex(t,s),s--);e.splice(n,1)},removeNodeOnly:function(e,t){e.splice(t,1)},removeElementIncidence:function(e){for(var t=e.start.incElements,n=e.end.incElements,s=0;s<t.length;s++)t[s]===e&&t.splice(s,1);for(var i=0;i<n.length;i++)n[i]===e&&n.splice(i,1)},removeElementByIndex:function(e,t){for(var n=e[t].start.incElements,s=e[t].end.incElements,i=0;i<n.length;i++)n[i]===e[t]&&n.splice(i,1);for(var a=0;a<s.length;a++)s[a]===e[t]&&s.splice(a,1);e.splice(t,1)},isStaticallyDeterminate:function(){return this.elements.length+this.nReactions===2*this.nodes.length},isSimple:function(){for(var e=_.cloneDeep(this.nodes),t=0;t<e.length;t++)2===e[t].incElements.length&&(this.removeElementIncidence(e[t].incElements[1]),this.removeElementIncidence(e[t].incElements[0]),this.removeNodeOnly(e,t),t=0);return 2===e.length&&1===e[0].incElements.length},containsTriangle:function(){for(var e=0;e<this.elements.length;e++)for(var t=this.elements[e].start,n=this.elements[e].end,s=0;s<this.nodes.length;s++){for(var i=this.nodes[s],a=!1,o=!1,r=0;r<i.incElements.length;r++){var l=i.incElements[r];(l.start===i&&l.end===t||l.start===t&&l.end===i)&&(a=!0),(l.start===i&&l.end==n||l.start===n&&l.end===i)&&(o=!0)}if(a&&o)return!0}return!1},expandNodes:function(){this.$refs.nodeRow.map(function(e){return e.showOptions=!0})},collapseNodes:function(){this.$refs.nodeRow.map(function(e){return e.showOptions=!1})},expandElems:function(){this.$refs.elemRow.map(function(e){return e.showOptions=!0})},collapseElems:function(){this.$refs.elemRow.map(function(e){return e.showOptions=!1})},removeAllNodes:function(){for(;this.nodes.length>0;)this.removeNodeByIndex(this.nodes,this.elements,0)},removeAllElems:function(){for(;this.elements.length>0;)this.removeElementByIndex(this.elements,0)},panOn:function(e){window.getSelection().empty(),this.captureToggle=!0,this.panX=this.config.x-e.pageX,this.panY=this.config.y-e.pageY},panOnTouch:function(e){if(2===e.touches.length){e.preventDefault(),this.captureToggle=!0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,n=(e.touches[0].pageY+e.touches[1].pageY)/2;this.panX=this.config.x-t,this.panY=this.config.y-n,this.prevDiff=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2))}},panOff:function(e){this.captureToggle=!1},panOffTouch:function(e){e.preventDefault(),this.captureToggle=!1},panMove:function(e){this.captureToggle&&(this.config.x=e.x+this.panX,this.config.y=e.y+this.panY)},panMoveTouch:function(e){if(2===e.touches.length){e.preventDefault();var t=(e.touches[0].pageX+e.touches[1].pageX)/2,n=(e.touches[0].pageY+e.touches[1].pageY)/2,s=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2)),i=.02*(s-this.prevDiff)*this.config.scale;h.a.abs(s-this.prevDiff)>2&&this.config.scale+i>this.config.scaleMin&&this.config.scale+i<this.config.scaleMax&&(this.config.x=this.config.x-i/this.config.scale*(t-this.$refs.app.offsetLeft-this.config.x),this.config.y=this.config.y-i/this.config.scale*(n-this.$refs.app.offsetTop-this.config.y),this.panX=this.config.x-t,this.panY=this.config.y-n,this.config.scale=h.a.round(this.config.scale+i,3)),this.prevDiff=s,this.captureToggle&&(this.config.x=t+this.panX,this.config.y=n+this.panY)}},zoomCanvas:function(e){var t=-.1*a()(e.deltaY)*this.config.scale;this.config.scale+t>this.config.scaleMin&&this.config.scale+t<this.config.scaleMax&&(this.config.x=this.config.x-t/this.config.scale*(e.pageX-this.$refs.app.offsetLeft-this.config.x),this.config.y=this.config.y-t/this.config.scale*(e.pageY-this.$refs.app.offsetTop-this.config.y),this.config.scale=h.a.round(this.config.scale+t,3))}}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"app",attrs:{id:"app"}},[n("div",{attrs:{id:"canvas-container"}},[n("svg",{ref:"canvas",staticClass:"select-none",attrs:{id:"canvas",draggable:"false"},on:{mousedown:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?"button"in t&&0!==t.button?null:void e.panOn(t):null},mousemove:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?"button"in t&&0!==t.button?null:void e.panMove(t):null},touchstart:function(t){e.panOnTouch(t)},touchmove:function(t){e.panMoveTouch(t)},wheel:function(t){t.preventDefault(),e.zoomCanvas(t)},mouseup:e.panOff,mouseleave:e.panOff,touchend:e.panOff,dragstart:function(e){e.preventDefault()}}},[n("rect",{attrs:{id:"rect-canvas",width:"100%",height:"100%"}}),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.config.axes,expression:"config.axes"}],staticClass:"axis",attrs:{d:e.axisXDef}}),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.config.axes,expression:"config.axes"}],staticClass:"axis",attrs:{d:e.axisYDef}}),e._v(" "),e._l(e.elements,function(t,s){return n("element-path",{key:t.id,attrs:{element:t,"element-force":e.elementForces[s],"end-forces":e.elementEndForces[s],view:e.config,"moment-scale":e.momentDiagramAutoScale}})}),e._v(" "),e._l(e.nodes,function(t,s){return n("node-circle",{key:t.id,attrs:{node:t,displacements:e.nodeDisplacements[s],reactions:e.nodeReactions[s],view:e.config}})}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.isUnstable&&e.nodes.length>0,expression:"isUnstable && nodes.length > 0"}],attrs:{x:10,y:20,fill:"red"}},[e._v("unstable")])],2),e._v(" "),n("canvas-settings",{attrs:{id:"canvas-settings-container",config:e.config}})],1),e._v(" "),n("table-array",{attrs:{id:"node-table",heading:"Nodes",array:e.nodes},on:{expand:e.expandNodes,collapse:e.collapseNodes}},[n("template",{slot:"header"},[n("node-row-add",{attrs:{nodes:e.nodes},on:{submit:e.addNode}})],1),e._v(" "),e._l(e.nodes,function(t,s){return n("node-row",{key:t.id,ref:"nodeRow",refInFor:!0,attrs:{node:t,nodes:e.nodes},on:{remove:function(t){e.removeNodeByIndex(e.nodes,e.elements,s)}}})})],2),e._v(" "),n("table-array",{attrs:{id:"element-table",heading:"Elements",array:e.elements},on:{expand:e.expandElems,collapse:e.collapseElems}},[n("template",{slot:"header"},[n("element-row-add",{attrs:{elements:e.elements,nodes:e.nodes},on:{submit:e.addElement}})],1),e._v(" "),e._l(e.elements,function(t,s){return n("element-row",{key:t.id,ref:"elemRow",refInFor:!0,attrs:{element:t,nodes:e.nodes},on:{remove:function(t){e.removeElementByIndex(e.elements,s)}}})})],2)],1)},staticRenderFns:[]};var U=n("VU/8")(T,I,!1,function(e){n("q27B")},null,null).exports,L=n("/ocq"),j={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("div",[this._v("Help")])])}]};var V=n("VU/8")({name:"Help",data:function(){return{msg:"Welcome to Your Vue.js App"}}},j,!1,function(e){n("4JYb")},"data-v-f10a6c50",null).exports;s.a.use(L.a);var W=new L.a({mode:"history",routes:[{path:"/help",name:"Help",component:V}]});n("5myX");s.a.config.productionTip=!1;var Z=new s.a({el:"#app",router:W,components:{App:U},template:"<App/>"});window.vm=Z.$children[0]},"bZ+M":function(e,t){},e7Ez:function(e,t){},ey47:function(e,t){},kd9U:function(e,t){},llE5:function(e,t){},q27B:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7b0d5682b16296655a82.js.map