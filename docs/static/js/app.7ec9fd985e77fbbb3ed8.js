webpackJsonp([1],{"1IHO":function(e,t){},"4JYb":function(e,t){},"4fye":function(e,t){},"5myX":function(e,t){},H1YY:function(e,t){},IJZR:function(e,t){},KsRR:function(e,t){},M8hW:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),i=s("2QDH"),a=s.n(i),o=s("woOf"),r=s.n(o),l=s("mvHQ"),c=s.n(l),d=s("+6Bu"),u=s.n(d),h=s("pFYg"),m=s.n(h),f=s("Gu7T"),p=s.n(f),v=s("QttI"),g=s.n(v),w=s("y1vT"),y=s.n(w),x={name:"InputNumber",props:{title:String,value:Number,step:{type:Number,default:1},min:{type:Number}},model:{prop:"value",event:"valuechange"},data:function(){var e=this;return{showSpinner:!1,timeout:null,interval:null,debounceInput:y()(function(t){e.valueLocal=""===t.target.value?0:parseFloat(t.target.value)},350)}},computed:{valueLocal:{get:function(){return this.value},set:function(e){this.$emit("valuechange",e)}},hasSlotData:function(){return this.$slots.default}},created:function(){},methods:{increment:function(e){var t=this;this.valueLocal+=e,this.timeout=setTimeout(function(){t.interval=setInterval(function(){t.valueLocal+=10*e},30)},250)},clearTiming:function(){clearTimeout(this.timeout),clearInterval(this.interval)}}},b={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group input-group-sm input-number",on:{mouseover:function(t){e.showSpinner=!0},mouseleave:function(t){e.showSpinner=!1}}},[e.hasSlotData?s("div",{staticClass:"input-group-prepend"},[e._t("default")],2):e._e(),e._v(" "),e.showSpinner?s("div",{staticClass:"input-group-prepend btn-spinner"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",tabindex:"-1"},on:{mousedown:function(t){return e.increment(e.step)},mouseup:e.clearTiming,mouseleave:e.clearTiming,touchstart:function(t){return e.increment(e.step)},touchend:e.clearTiming}},[e._v("▵")]),e._v(" "),s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",tabindex:"-1"},on:{mousedown:function(t){return e.increment(-e.step)},mouseup:e.clearTiming,mouseleave:e.clearTiming,touchstart:function(t){return e.increment(-e.step)},touchend:e.clearTiming}},[e._v("▿")])]):e._e(),e._v(" "),s("input",{staticClass:"cell-input form-control form-control-sm",attrs:{type:"number",step:"any",title:e.title,min:e.min},domProps:{value:e.valueLocal},on:{input:function(t){return e.debounceInput(t)},focus:function(e){return e.target.select()}}})])},staticRenderFns:[]};var _=s("VU/8")(x,b,!1,function(e){s("1IHO")},"data-v-1ecdfe01",null).exports,E={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group-text cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.valueLocal,expression:"valueLocal"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.valueLocal)?e._i(e.valueLocal,null)>-1:e.valueLocal},on:{change:function(t){var s=e.valueLocal,n=t.target,i=!!n.checked;if(Array.isArray(s)){var a=e._i(s,null);n.checked?a<0&&(e.valueLocal=s.concat([null])):a>-1&&(e.valueLocal=s.slice(0,a).concat(s.slice(a+1)))}else e.valueLocal=i}}})])},staticRenderFns:[]};var N=s("VU/8")({name:"InputNumberCheckbox",props:["value"],model:{prop:"value",event:"valuechange"},computed:{valueLocal:{get:function(){return this.value},set:function(e){this.$emit("valuechange",e)}}}},E,!1,function(e){s("4fye")},"data-v-9585b9aa",null).exports,S={name:"RowHeader",components:{InputNumber:_,InputNumberCheckbox:N},props:["headings","widths"],data:function(){return{}}},F={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",e._l(e.headings,function(t,n){return s("div",{key:n+t,staticClass:"input-sm",style:{"min-width":e.widths[n]+"rem"}},[e._v(e._s(t))])}),0)},staticRenderFns:[]};var C={name:"ArrayList",components:{RowHeader:s("VU/8")(S,F,!1,function(e){s("YbH3")},"data-v-7537a948",null).exports},props:{headings:Array,widths:Array}},M={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list-container"},[s("div",{staticClass:"list-header"},[e._t("header")],2),e._v(" "),s("div",{staticClass:"list-body"},[s("ul",{staticClass:"list-rows"},[s("row-header",{key:e.headings[0]+e.headings[1]+e.headings[2],staticClass:"row-header",attrs:{headings:e.headings,widths:e.widths}}),e._v(" "),e._t("default")],2)])])},staticRenderFns:[]};var k=s("VU/8")(C,M,!1,function(e){s("e5Eu")},"data-v-35df325f",null).exports,R=s("//Fk"),P=s.n(R),V=s("mKN5"),D=(s("ltYz"),s("Xxa5")),A=s.n(D),L=s("exGp"),O=s.n(L),I={name:"BabylonDiagram",inject:["SceneReady"],props:{config:Object,coords:Array,fixity:Array,forcesEnd:Array,dispsEnd:Array,section:Object,material:Object,n:{type:Number},renderingGroup:Number,scale:{type:Number,default:1},diagramScales:Object,type:Number,w:{type:Array}},data:function(){return{scene:null,mesh:null}},watch:{n:{handler:function(){this.replace()}},fixity:{handler:function(){this.update()},deep:!0},elements:{handler:function(){this.replace()},deep:!0},"config.diagramScale":{handler:function(){this.update()}},w:{handler:function(){this.update()}}},computed:{x0:function(){return this.coords[0][0]},y0:function(){return this.coords[0][1]},x1:function(){return this.coords[1][0]},y1:function(){return this.coords[1][1]},dx:function(){return this.coords[1][0]-this.coords[0][0]},dy:function(){return this.coords[1][1]-this.coords[0][1]},l:function(){return Math.sqrt(Math.pow(this.x1-this.x0,2)+Math.pow(this.y1-this.y0,2))},totalScale:function(){return this.scale*this.config.diagramScale*this.typeScales[this.type]},xT:function(){return(this.y0-this.y1)/this.l*this.totalScale},yT:function(){return(this.x1-this.x0)/this.l*this.totalScale},typeScales:function(){return[1,this.diagramScales.w/2,this.diagramScales.v,this.diagramScales.m,this.diagramScales.r,this.diagramScales.d]},EI:function(){return this.material.E*this.section.Iz},values:function(){switch(this.type){case 0:return[];case 1:return this.loadValues;case 2:return this.shearValues;case 3:return this.momentValues;case 4:return this.rotationValues;case 5:return this.dispValues;default:return[]}},loadValues:function(){for(var e=[this.w[1]],t=1;t<this.n;t++)e.push(this.w[1]);return e.push(this.w[1]),e},momentValues:function(){for(var e=[-this.forcesEnd[2]],t=1;t<this.n;t++){var s=t/this.n*this.l;e.push(-this.forcesEnd[2]+this.forcesEnd[1]*s+this.w[1]/2*Math.pow(s,2))}return e.push(this.forcesEnd[5]),e},curvatureValues:function(){for(var e=[-this.forcesEnd[2]/this.EI],t=1;t<this.n;t++){var s=t/this.n*this.l;e.push((-this.forcesEnd[2]+this.forcesEnd[1]*s+this.w[1]/2*Math.pow(s,2))/this.EI)}return e.push(this.forcesEnd[5]/this.EI),e},rotationValues:function(){for(var e=[this.dispsEnd[2]],t=1;t<this.n;t++){var s=t/this.n*this.l;e.push(this.dispsEnd[2]+(-this.forcesEnd[2]*s+.5*this.forcesEnd[1]*Math.pow(s,2)+this.w[1]/6*Math.pow(s,3))/this.EI)}return e.push(this.dispsEnd[5]),e},dispValues:function(){for(var e=[this.dispsEnd[1]],t=1;t<this.n+1;t++){var s=t/this.n*this.l;e.push(this.dispsEnd[1]+this.dispsEnd[2]*s+(-this.forcesEnd[2]/2*Math.pow(s,2)+this.forcesEnd[1]/6*Math.pow(s,3)+this.w[1]/24*Math.pow(s,4))/this.EI)}return e},shearValues:function(){for(var e=[this.forcesEnd[1]],t=1;t<this.n;t++)e.push(this.forcesEnd[1]+this.w[1]*(t/this.n*this.l));return e.push(-this.forcesEnd[4]),e},lines:function(){if(0===this.type)return[];for(var e=[[new V.Vector3(this.x0,this.y0),new V.Vector3(this.x0+this.xT*this.values[0],this.y0+this.yT*this.values[0])]],t=0;t<this.n;t++){var s=t+1;e.push([new V.Vector3(this.x0+t/this.n*this.dx+this.xT*this.values[t],this.y0+t/this.n*this.dy+this.yT*this.values[t]),new V.Vector3(this.x0+s/this.n*this.dx+this.xT*this.values[s],this.y0+s/this.n*this.dy+this.yT*this.values[s])])}return e.push([new V.Vector3(this.x1+this.xT*this.values[this.n],this.y1+this.yT*this.values[this.n]),new V.Vector3(this.x1,this.y1)]),e},colors:function(){for(var e=new V.Color4(.2,.8,.7,1),t=[],s=0;s<this.n+2;s++)t.push([e,e]);return t},lineOptions:function(){return{lines:this.lines,colors:this.colors,updatable:!0}},lineOptionsUpdate:function(){return{lines:this.lines,colors:this.colors,instance:this.mesh}}},created:function(){},mounted:function(){var e=this;return O()(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.SceneReady;case 2:e.scene=t.sent,e.init();case 4:case"end":return t.stop()}},t,e)}))()},destroyed:function(){this.destroy()},methods:{init:function(){this.mesh=V.MeshBuilder.CreateLineSystem("testLines",this.lineOptions,this.scene),this.mesh.renderingGroupId=this.renderingGroup},update:function(){this.mesh&&(this.mesh=V.MeshBuilder.CreateLineSystem("testLines",this.lineOptionsUpdate))},replace:function(){this.destroy(),this.init()},destroy:function(){this.mesh&&this.mesh.dispose()}},render:function(){}},T=s("VU/8")(I,null,!1,null,null,null).exports,$={name:"BabylonSupport",inject:["SceneReady"],props:{coords:Array,fixity:Array,renderingGroup:Number,analysisType:Number,scale:{type:Number,default:1}},data:function(){return{scene:null,mesh:null}},watch:{coords:{handler:function(){this.replace()},deep:!0},scale:{handler:function(){this.update()}},fixity:{handler:function(){this.replace()},deep:!0},analysisType:{handler:function(){this.replace()}}},computed:{f:function(){return math.sqrt(Math.pow(this.node.loads[0],2)+Math.pow(this.node.loads[1],2))},lines:function(){var e=[];return this.fixity[0]&&e.push([new V.Vector3(this.coords[0]-.25*this.scale,this.coords[1],this.coords[2]),new V.Vector3(this.coords[0]-1.2*this.scale,this.coords[1],this.coords[2])],[new V.Vector3(this.coords[0]-.25*this.scale,this.coords[1],this.coords[2]),new V.Vector3(this.coords[0]-.5*this.scale,this.coords[1]-.25*this.scale,this.coords[2])],[new V.Vector3(this.coords[0]-.25*this.scale,this.coords[1],this.coords[2]),new V.Vector3(this.coords[0]-.5*this.scale,this.coords[1]+.25*this.scale,this.coords[2])]),this.fixity[1]&&e.push([new V.Vector3(this.coords[0],this.coords[1]-.25*this.scale,this.coords[2]),new V.Vector3(this.coords[0],this.coords[1]-1.2*this.scale,this.coords[2])],[new V.Vector3(this.coords[0],this.coords[1]-.25*this.scale,this.coords[2]),new V.Vector3(this.coords[0]-.25*this.scale,this.coords[1]-.5*this.scale,this.coords[2])],[new V.Vector3(this.coords[0],this.coords[1]-.25*this.scale,this.coords[2]),new V.Vector3(this.coords[0]+.25*this.scale,this.coords[1]-.5*this.scale,this.coords[2])]),this.fixity[2]&&0===this.analysisType&&e.push([new V.Vector3(this.coords[0]-.1*this.scale,this.coords[1]-.75*this.scale,this.coords[2]),new V.Vector3(this.coords[0]-.4*this.scale,this.coords[1]-.75*this.scale,this.coords[2])],[new V.Vector3(this.coords[0]-.4*this.scale,this.coords[1]-.75*this.scale,this.coords[2]),new V.Vector3(this.coords[0]-.63*this.scale,this.coords[1]-.63*this.scale,this.coords[2])],[new V.Vector3(this.coords[0]-.63*this.scale,this.coords[1]-.63*this.scale,this.coords[2]),new V.Vector3(this.coords[0]-.75*this.scale,this.coords[1]-.4*this.scale,this.coords[2])],[new V.Vector3(this.coords[0]-.75*this.scale,this.coords[1]-.4*this.scale,this.coords[2]),new V.Vector3(this.coords[0]-.75*this.scale,this.coords[1]-.1*this.scale,this.coords[2])],[new V.Vector3(this.coords[0]-.1*this.scale,this.coords[1]-.75*this.scale,this.coords[2]),new V.Vector3(this.coords[0]-.35*this.scale,this.coords[1]-1*this.scale,this.coords[2])],[new V.Vector3(this.coords[0]-.1*this.scale,this.coords[1]-.75*this.scale,this.coords[2]),new V.Vector3(this.coords[0]-.35*this.scale,this.coords[1]-.5*this.scale,this.coords[2])]),e},colors:function(){var e=new V.Color4(1,0,1,1);return[[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e]]},lineOptions:function(){return{lines:this.lines,colors:this.colors,updatable:!0}},lineOptionsUpdate:function(){return{lines:this.lines,colors:this.colors,instance:this.mesh}}},created:function(){},mounted:function(){var e=this;return O()(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.SceneReady;case 2:e.scene=t.sent,e.init();case 4:case"end":return t.stop()}},t,e)}))()},destroyed:function(){this.destroy()},methods:{init:function(){this.mesh=V.MeshBuilder.CreateLineSystem("testLines",this.lineOptions,this.scene),this.mesh.renderingGroupId=this.renderingGroup},update:function(){this.mesh&&(this.mesh=V.MeshBuilder.CreateLineSystem("testLines",this.lineOptionsUpdate))},replace:function(){this.destroy(),this.init()},destroy:function(){this.mesh&&this.mesh.dispose()}},render:function(){}},Y=s("VU/8")($,null,!1,null,null,null).exports,z={name:"BabylonLoad",inject:["SceneReady"],props:{coords:Array,loads:Array,renderingGroup:Number,scale:{type:Number,default:1}},data:function(){return{scene:null,mesh:null}},watch:{coords:{handler:function(){this.update()},deep:!0},scale:{handler:function(){this.update()}},loads:{handler:function(){this.replace()},deep:!0}},computed:{f:function(){return math.sqrt(Math.pow(this.loads[0],2)+Math.pow(this.loads[1],2))},m:function(){return this.loads[2]},angle:function(){return math.atan2(this.loads[1],this.loads[0])},quaternion:function(){return new V.Quaternion(0,0,0,this.angle)},lines:function(){var e=[],t=V.Matrix.RotationAxis(V.Axis.Z,this.angle),s=V.Vector3.TransformCoordinates(new V.Vector3(-.25,0,0),t).scale(this.scale);if(0!==this.f&&e.push([s,V.Vector3.TransformCoordinates(new V.Vector3(-1.2,0,0),t).scale(this.scale)],[s,V.Vector3.TransformCoordinates(new V.Vector3(-.4,-.15,0),t).scale(this.scale)],[s,V.Vector3.TransformCoordinates(new V.Vector3(-.4,.15,0),t).scale(this.scale)]),0!==this.m){var n=this.m>0?1:-1;e.push([new V.Vector3(-.215*n,-.52,0).scale(this.scale),new V.Vector3(0,-.61,0).scale(this.scale)],[new V.Vector3(.43*n,-.43,0).scale(this.scale),new V.Vector3(0,-.61,0).scale(this.scale)],[new V.Vector3(.43*n,.43,0).scale(this.scale),new V.Vector3(0,.61,0).scale(this.scale)],[new V.Vector3(0,.61,0).scale(this.scale),new V.Vector3(-.215*n,.52,0).scale(this.scale)]),e.push([new V.Vector3(.43*n,-.43,0).scale(this.scale),new V.Vector3(.61*n,0,0).scale(this.scale)],[new V.Vector3(.61*n,0,0).scale(this.scale),new V.Vector3(.43*n,.43,0).scale(this.scale)],[new V.Vector3(-.43*n,.43,0).scale(this.scale),new V.Vector3(-.349*n,.626,0).scale(this.scale)],[new V.Vector3(-.43*n,.43,0).scale(this.scale),new V.Vector3((.196-.43)*n,.349,0).scale(this.scale)])}return e},colors:function(){var e=new V.Color4(1,.3,.3,1);return[[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e],[e,e]]},lineOptions:function(){return{lines:this.lines,colors:this.colors,updatable:!0}},lineOptionsUpdate:function(){return{lines:this.lines,colors:this.colors,instance:this.mesh}}},created:function(){},mounted:function(){var e=this;return O()(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.SceneReady;case 2:e.scene=t.sent,e.init();case 4:case"end":return t.stop()}},t,e)}))()},destroyed:function(){this.destroy()},methods:{init:function(){this.mesh=V.MeshBuilder.CreateLineSystem("testLines",this.lineOptions,this.scene),this.mesh.renderingGroupId=this.renderingGroup,this.mesh.position=new(Function.prototype.bind.apply(V.Vector3,[null].concat(p()(this.coords))))},update:function(){this.mesh&&(this.mesh=V.MeshBuilder.CreateLineSystem("testLines",this.lineOptionsUpdate),this.mesh.position=new(Function.prototype.bind.apply(V.Vector3,[null].concat(p()(this.coords)))))},replace:function(){this.destroy(),this.init()},destroy:function(){this.mesh&&this.mesh.dispose()}},render:function(){}},X=s("VU/8")(z,null,!1,null,null,null).exports,U={name:"OverlayText",inject:["ViewportReady"],props:{coords:Array,prefix:{type:String,default:""},value:{type:[String,Number]},rotation:{type:Number,default:0},viewport:Object,transform:Object,world:Object,offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},opacity:{type:Number,default:0}},data:function(){return{updated:!1,screenVector:null,top:0,left:0,showText:!1,debounceUpdate:y()(function(){this.update(),this.updated=!0},50)}},watch:{coords:{handler:function(){this.updated=!1,this.debounceUpdate()}},viewport:{handler:function(){this.updated=!1,this.debounceUpdate()},deep:!0},transform:{handler:function(){this.updated=!1,this.debounceUpdate()},deep:!0}},computed:{position:function(){return new(Function.prototype.bind.apply(V.Vector3,[null].concat(p()(this.coords))))},style:function(){return{top:this.top+"px",left:this.left+"px",transform:"translate(-50%,-50%) \n            rotate("+this.rotation+"rad) \n            translate("+this.offsetX+"%,"+this.offsetY+"%)","background-color":"rgba(32,32,32,"+this.opacity+")"}}},created:function(){},mounted:function(){this.debounceUpdate()},destroyed:function(){},methods:{update:function(){this.transform&&(this.screenVector=V.Vector3.Project(this.position,this.world,this.transform,this.viewport),this.top=this.screenVector.y,this.left=this.screenVector.x)}}},j={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.updated,expression:"updated"}],staticClass:"node-label",style:this.style},[this._v("\n  "+this._s(this.prefix+this.value)+"\n")])},staticRenderFns:[]};var B={name:"BabylonCanvas",components:{BabylonDiagram:T,BabylonSupport:Y,BabylonLoad:X,OverlayText:s("VU/8")(U,j,!1,function(e){s("c0aT")},"data-v-18afaa1c",null).exports},provide:function(){return{SceneReady:this.SceneReady,ViewportReady:this.ViewportReady}},props:{config:Object,nodes:Array,elements:Array,materials:Array,sections:Array,elementDisplacements:Array,forcesAxial:Array,forceAxialMax:Number,forcesEnd:Array,input:Object,nodeReactions:Array,nodeDisplacements:Array,diagramScales:Object},data:function(){return{needsUpdate:!1,nodeLabels:[],label:null,axes:null,axisRadius:1,camera:null,cameraRadius:1,canvas:null,canvasHeight:720,canvasWidth:1280,engine:null,scene:null,drag:!1,dX:0,dY:0,gl:null,pointsMaterial:null,pointsMesh:null,pointsData:null,plane:V.Plane.FromPositionAndNormal(V.Vector3.Zero(),V.Axis.Z.negate()),lines:null,viewport:null,transformMatrix:null}},watch:{numNodes:function(e,t){0===e&&0!=t?this.pointsMesh.dispose():0===t&&(this.pointsMesh=new V.Mesh("nodes",this.scene),this.pointsMesh.material=this.pointsMaterial)},nodes:{handler:function(){this.updatePoints(),this.updateLines()},deep:!0},config:{handler:function(){this.updatePoints(),this.updateLines()},deep:!0},input:{handler:function(e){if("zoom-fit"===e.command){this.camera.target.x=e.x,this.camera.target.y=e.y;var t=this.engine.getRenderWidth(),s=this.engine.getRenderHeight();e.height/s>e.width/t?(console.log("taller"),this.camera.radius=1.1*e.z):this.camera.radius=1.1*e.z*s/t}},deep:!0},elements:{handler:function(){this.updatePoints(),this.updateLines()},deep:!0},"config.axes":{handler:function(e){this.axes.isVisible=e}}},computed:{supportedNodes:function(){for(var e=[],t=0;t<this.nodes.length;t++)(this.nodes[t].fixity[0]||this.nodes[t].fixity[1]||this.nodes[t].fixity[2])&&e.push(this.nodes[t]);return e},nodeValues:function(){return 1===this.config.nodeResults?this.nodeReactions:this.nodeDisplacements},worldMatrix:function(){return this.needsUpdate,V.Matrix.IdentityReadOnly},numNodes:function(){return this.nodes.length},nodeVertices:function(){for(var e=[],t=0;t<this.nodes.length;t++)e.push.apply(e,p()(this.nodes[t].coords).concat([0]));return e},lineOptions:function(){return{lines:this.elementLines,colors:this.elementColors,updatable:!0}},elementLines:function(){for(var e=[],t=0;t<this.elements.length;t++){var s=this.elements[t];e.push([new(Function.prototype.bind.apply(V.Vector3,[null].concat(p()(this.nodes[s.ends[0]].coords)))),new(Function.prototype.bind.apply(V.Vector3,[null].concat(p()(this.nodes[s.ends[1]].coords))))])}return e},nodeColors:function(){for(var e=[],t=0;t<this.nodes.length;t++)e.push(254/255,254/255,t/255,1);return e},elementColors:function(){for(var e=[],t=0;t<this.elements.length;t++){var s=this.elements[t],n=this.forcesAxial[t],i=new V.Color4(.8,.8,.8);s.active?i=new V.Color4(1,1,.5):1===this.config.analysisFlag&&this.config.trussColoring&&!math.equal(this.forceAxialMax,0)&&(i=new V.Color4(n<.001?Math.pow(1+n/this.forceAxialMax,2):1,n>-.001?Math.pow(1-n/this.forceAxialMax,2):1+1*n/this.forceAxialMax,n>-.001?Math.pow(1-n/this.forceAxialMax,2):1)),e.push([i,i])}return e},axesOptions:function(){return{instance:this.axes,lines:[[new V.Vector3(-1e5,0,0),new V.Vector3(1e5,0,0)],[new V.Vector3(0,-1e5,0),new V.Vector3(0,1e5,0)]],updatable:!0}}},beforeCreate:function(){var e=this;this.SceneReady=new P.a(function(t){e.resolveScene=t}),this.ViewportReady=new P.a(function(t){e.resolveViewport=t})},created:function(){},mounted:function(){this.init()},methods:{resetView:function(){this.camera.target=V.Vector3.Zero(),this.camera.radius=100},init:function(){var e=this;this.canvas=document.getElementById("canvas"),this.engine=new V.Engine(this.canvas,!0,{preserveDrawingBuffer:!1}),this.gl=this.engine.getRenderingCanvas("webgl").getContext("webgl2"),this.createScene(),this.resolveScene(this.scene),window.addEventListener("resize",y()(this.resizeWindow,250)),this.engine.runRenderLoop(function(){e.scene.render()})},createScene:function(){this.scene=new V.Scene(this.engine),this.scene.clearColor=V.Color3.FromHexString("#202020"),this.initCamera(),this.viewport=this.camera.viewport.toGlobal(this.engine.getRenderWidth(),this.engine.getRenderHeight()),this.resolveViewport(this.viewport),this.camera.onProjectionMatrixChangedObservable.add(y()(this.onProjMatrixChange,50)),this.camera.onViewMatrixChangedObservable.add(y()(this.onViewMatrixChange,50)),this.initPointerEvents();var e=V.Color4.FromHexString("#AF4757ff"),t=V.Color4.FromHexString("#6a802aff"),s=V.Color4.FromHexString("#356FADff");this.axes=V.MeshBuilder.CreateLineSystem("axes",{lines:this.axesOptions.lines,colors:[[e,e],[t,t],[s,s]],updatable:!0},this.scene),this.axes.renderingGroupId=0,this.pointsMaterial=new V.StandardMaterial("nodeMaterial",this.scene),this.pointsMaterial.pointsCloud=!0,this.pointsMaterial.pointSize=9,this.pointsMaterial.disableLighting=!0,this.pointsMaterial.emissiveColor=new V.Color3(1,1,1),this.pointsMesh=new V.Mesh("nodes",this.scene),this.pointsMesh.renderingGroupId=3,this.pointsData=new V.VertexData,this.pointsMesh.material=this.pointsMaterial,this.updatePoints(),this.lines=V.MeshBuilder.CreateLineSystem("lineSystem",this.lineOptions,this.scene),this.lines.renderingGroupId=1,this.scene.afterRender=function(){}},initCamera:function(){this.camera=new V.ArcRotateCamera("Camera",-Math.PI/2,Math.PI/2,1e4,V.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0,!0),this.camera.allowUpsideDown=!1,this.camera.lowerAlphaLimit=-Math.PI/2,this.camera.upperAlphaLimit=-Math.PI/2,this.camera.lowerBetaLimit=Math.PI/2,this.camera.upperBetaLimit=Math.PI/2,this.camera.pinchDeltaPercentage=.01,this.camera.fov=.1,this.camera.maxZ=6e4,this.cameraRadius=this.camera.radius,this.camera.inertia=.7,this.camera.lowerRadiusLimit=10,this.camera.upperRadiusLimit=4e4,this.camera.upperBetaLimit=Math.PI/2-.1,this.camera.angularSensibilityX=this.camera.angularSensibilityY=500,this.addControls(this.scene,this.camera)},initPointerEvents:function(){var e=this;this.scene.onPointerObservable.add(function(t){switch(t.type){case V.PointerEventTypes.POINTERDOWN:e.handlePointerDown(t);break;case V.PointerEventTypes.POINTERMOVE:e.handlePointerMove(t)}})},getNodeResult:function(e){return 0===this.config.analysisFlag?this.nodeValues[e][0].toFixed(this.config.significantFigures)+" \n              "+this.nodeValues[e][1].toFixed(this.config.significantFigures)+" \n              "+this.nodeValues[e][2].toFixed(this.config.significantFigures):this.nodeValues[e][0].toFixed(this.config.significantFigures)+" \n              "+this.nodeValues[e][1].toFixed(this.config.significantFigures)},handlePointerDown:function(e){var t=this.getPosition(this.scene,this.camera,this.plane),s=new Uint8Array(4);if(this.scene.pointerX){var n=this.engine.getRenderHeight();this.scene.render(),this.gl.readPixels(this.scene.pointerX,n-this.scene.pointerY,1,1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s)}this.$emit("pointerdown",t,s)},handlePointerMove:function(e){var t=this.getPosition(this.scene,this.camera,this.plane);"draw-node"===this.config.mode&&this.$emit("pointermove",t)},onViewMatrixChange:function(){this.needsUpdate=!0,this.cameraRadius=this.camera.radius,this.transformMatrix=this.scene.getTransformMatrix()},onProjMatrixChange:function(){this.needsUpdate=!0,this.updateViewportGlobal()},updatePoints:function(){this.pointsData.positions=this.nodeVertices,this.pointsMesh.setVerticesData(V.VertexBuffer.ColorKind,this.nodeColors),this.pointsData.applyToMesh(this.pointsMesh),this.pointsMesh.renderingGroupId=3},updateLines:function(){this.lines.dispose(),this.lines=V.MeshBuilder.CreateLineSystem("lineSystem",this.lineOptions,this.scene),this.lines.renderingGroupId=1},updateViewportGlobal:function(){null===this.camera&&(this.viewport=null),this.camera.viewport.toGlobalToRef(this.engine.getRenderWidth(),this.engine.getRenderHeight(),this.viewport)},resizeWindow:function(){this.engine.resize()},addControls:function(e,t){var s=this,n=V.Plane.FromPositionAndNormal(V.Vector3.Zero(),V.Axis.Z.negate()),i=V.Vector3.Zero(),a=void 0,o=function(){var o=s.getPosition(e,t,n);s.panning(o,a,t.inertia,i)},r=V.Vector2.Zero(),l=function(){s.rotating(e,t,r)},c=function(){e.onPointerObservable.removeCallback(o),e.onPointerObservable.removeCallback(l)};e.onPointerObservable.add(function(i,d){c(),0===i.event.button?(a=s.getPosition(e,t,n),e.onPointerObservable.add(o,V.PointerEventTypes.POINTERMOVE)):(r.copyFromFloats(e.pointerX,e.pointerY),e.onPointerObservable.add(l,V.PointerEventTypes.POINTERMOVE))},V.PointerEventTypes.POINTERDOWN),e.onPointerObservable.add(function(e,t){c()},V.PointerEventTypes.POINTERUP),e.onPointerObservable.add(function(a,o){var r=s.zoomWheel(a,o,t);s.zooming(r,e,t,n,i)},V.PointerEventTypes.POINTERWHEEL),e.onBeforeRenderObservable.add(function(){0===i.x&&0===i.y&&0===i.z||(t.target.addInPlace(i),i.scaleInPlace(t.inertia),s.zeroIfClose(i))}),e.onBeforeRenderObservable.add(function(){t.wheelPrecision=1/t.radius*1e3}),e.getEngine().getRenderingCanvas().addEventListener("contextmenu",function(e){e.preventDefault()})},getPosition:function(e,t,s){var n=e.createPickingRay(e.pointerX,e.pointerY,V.Matrix.Identity(),t,!1),i=n.intersectsPlane(s);return null!==i?n.origin.addInPlace(n.direction.scaleInPlace(i)):null},panning:function(e,t,s,n){var i=t.subtract(e),a=i.x*(1-s),o=i.y*(1-s),r=i.z*(1-s);return n.copyFromFloats(a,o,r),n},zoomWheel:function(e,t,s){var n=e.event;n.preventDefault();var i=0;return n.deltaY?i=-n.deltaY:n.wheelDelta?i=n.wheelDelta:n.detail&&(i=-n.detail),i/=s.wheelPrecision},zooming:function(e,t,s,n,i){if(!(s.radius-s.lowerRadiusLimit<1&&e>0||s.upperRadiusLimit-s.radius<1&&e<0)){var a=1-s.inertia;s.radius-(s.inertialRadiusOffset+e)/a<s.lowerRadiusLimit?e=(s.radius-s.lowerRadiusLimit)*a-s.inertialRadiusOffset:s.radius-(s.inertialRadiusOffset+e)/a>s.upperRadiusLimit&&(e=(s.radius-s.upperRadiusLimit)*a-s.inertialRadiusOffset);var o=1.99*(e/a)/s.radius,r=this.getPosition(t,s,n).subtract(s.target).scale(o);r.scaleInPlace(a),i.addInPlace(r),s.inertialRadiusOffset+=e}},rotating:function(e,t,s){var n=e.pointerX-s.x,i=e.pointerY-s.y;s.copyFromFloats(e.pointerX,e.pointerY),this.changeInertialAlphaBetaFromOffsets(n,i,t)},changeInertialAlphaBetaFromOffsets:function(e,t,s){var n=e/s.angularSensibilityX,i=t/s.angularSensibilityY;s.inertialAlphaOffset-=n,s.inertialBetaOffset-=i},zeroIfClose:function(e){Math.abs(e.x)<V.Epsilon&&(e.x=0),Math.abs(e.y)<V.Epsilon&&(e.y=0),Math.abs(e.z)<V.Epsilon&&(e.z=0)}}},Z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"canvas-container"}},[s("canvas",{ref:"canvas",attrs:{id:"canvas",width:e.canvasWidth,height:e.canvasHeight}},[e.config.supports?s("div",e._l(e.nodes,function(t){return s("babylon-support",{key:t.id,attrs:{coords:t.coords,fixity:t.fixity,"analysis-type":e.config.analysisFlag,"rendering-group":1,scale:.005*e.cameraRadius}})}),1):e._e(),e._v(" "),e.config.appliedForces?s("div",e._l(e.nodes,function(t){return s("babylon-load",{key:t.id,attrs:{coords:t.coords,loads:t.loads,renderingGroup:2,scale:.005*e.cameraRadius}})}),1):e._e(),e._v(" "),0!==e.config.diagramType?s("div",e._l(e.elements,function(t,n){return s("babylon-diagram",{key:t.id,attrs:{material:e.materials[t.material],section:e.sections[t.section],config:e.config,coords:[e.nodes[t.ends[0]].coords,e.nodes[t.ends[1]].coords],"forces-end":e.forcesEnd[n],"disps-end":e.elementDisplacements[n],w:t.w,n:e.config.diagramSegments,type:e.config.diagramType,"diagram-scales":e.diagramScales,fixity:[e.nodes[t.ends[0]].fixity,e.nodes[t.ends[1]].fixity],renderingGroup:1,scale:5e-4*e.cameraRadius}})}),1):e._e()]),e._v(" "),s("div",{attrs:{id:"canvas-overlay"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.config.nodeLabels,expression:"config.nodeLabels"}]},e._l(e.nodes,function(t){return s("overlay-text",{key:t.id,staticClass:"node-label",attrs:{coords:t.coords,prefix:"N",value:t.n.toString(),offsetY:0!==e.config.nodeResults?-50:50,offsetX:0!==e.config.nodeResults?-50:50,world:e.worldMatrix,transform:e.transformMatrix,viewport:e.viewport},on:{updated:function(t){e.needsUpdate=!1}}})}),1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.config.nodeResults,expression:"config.nodeResults !== 0"}]},e._l(e.nodes,function(t,n){return s("overlay-text",{key:t.id,staticClass:"node-label",attrs:{coords:t.coords,prefix:"",value:e.getNodeResult(n),offsetY:50,offsetX:50,world:e.worldMatrix,transform:e.transformMatrix,viewport:e.viewport},on:{updated:function(t){e.needsUpdate=!1}}})}),1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.config.elementForces,expression:"config.elementForces"}]},e._l(e.elements,function(t,n){return s("overlay-text",{key:t.id,staticClass:"node-label",attrs:{coords:[(e.nodes[t.ends[0]].coords[0]+e.nodes[t.ends[1]].coords[0])/2,(e.nodes[t.ends[0]].coords[1]+e.nodes[t.ends[1]].coords[1])/2,0],value:e.forcesAxial[n].toFixed(e.config.significantFigures),offsetX:0,offsetY:40,rotation:-Math.atan((e.nodes[t.ends[1]].coords[1]-e.nodes[t.ends[0]].coords[1])/(e.nodes[t.ends[1]].coords[0]-e.nodes[t.ends[0]].coords[0])),world:e.worldMatrix,transform:e.transformMatrix,viewport:e.viewport,needsUpdate:e.needsUpdate},on:{updated:function(t){e.needsUpdate=!1}}})}),1)])])},staticRenderFns:[]};var H=s("VU/8")(B,Z,!1,function(e){s("kH9g")},"data-v-52de9e6c",null).exports,G={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.object[e.setting],expression:"object[setting]"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:e.id},domProps:{checked:Array.isArray(e.object[e.setting])?e._i(e.object[e.setting],null)>-1:e.object[e.setting]},on:{change:function(t){var s=e.object[e.setting],n=t.target,i=!!n.checked;if(Array.isArray(s)){var a=e._i(s,null);n.checked?a<0&&e.$set(e.object,e.setting,s.concat([null])):a>-1&&e.$set(e.object,e.setting,s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.object,e.setting,i)}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:e.id}},[e._v(e._s(e.label))])])},staticRenderFns:[]};var W={name:"CanvasSettings",components:{InputCheckbox:s("VU/8")({name:"InputCheckbox",props:["object","setting","label"],computed:{id:function(){return"checkbox-"+this.setting.toLowerCase()}}},G,!1,function(e){s("llE5")},"data-v-822fe028",null).exports},props:["config"]},q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"canvas-settings-container"}},[e._t("default"),e._v(" "),s("transition",{attrs:{name:"slide-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.config.display,expression:"config.display"}],attrs:{id:"canvas-settings"}},[s("div",[s("label",[e._v("Analysis mode")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.config.analysisFlag,expression:"config.analysisFlag"}],staticClass:"cell cell-input form-control form-control-sm",staticStyle:{height:"1.5rem","font-size":".75rem"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.config,"analysisFlag",t.target.multiple?s:s[0])}}},[s("option",{domProps:{value:0}},[e._v("Frame")]),e._v(" "),s("option",{domProps:{value:1}},[e._v("Truss")])])]),e._v(" "),s("div",[s("label",{attrs:{for:"sigfigs"}},[e._v("Signifiicant figures")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.significantFigures,expression:"config.significantFigures",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",staticStyle:{height:"1.5rem","font-size":".75rem"},attrs:{id:"sigfigs",type:"number",min:"1",max:"9"},domProps:{value:e.config.significantFigures},on:{input:function(t){t.target.composing||e.$set(e.config,"significantFigures",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),s("div",[s("label",[e._v("Diagram scale")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.diagramScale,expression:"config.diagramScale",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",staticStyle:{height:"1.5rem","font-size":".75rem"},attrs:{type:"number",step:"0.1"},domProps:{value:e.config.diagramScale},on:{input:function(t){t.target.composing||e.$set(e.config,"diagramScale",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("div",[s("label",[e._v("Diagram segments")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.diagramSegments,expression:"config.diagramSegments",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",staticStyle:{height:"1.5rem","font-size":".75rem"},attrs:{type:"number",step:"1",min:"1"},domProps:{value:e.config.diagramSegments},on:{input:function(t){t.target.composing||e.$set(e.config,"diagramSegments",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("div",[s("label",[e._v("Element diagrams")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.config.diagramType,expression:"config.diagramType"}],staticClass:"cell cell-input form-control form-control-sm",staticStyle:{height:"1.5rem","font-size":".75rem"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.config,"diagramType",t.target.multiple?s:s[0])}}},[s("option",{domProps:{value:0}},[e._v("None")]),e._v(" "),s("option",{domProps:{value:1}},[e._v("Distributed load")]),e._v(" "),s("option",{domProps:{value:2}},[e._v("Shear force")]),e._v(" "),s("option",{domProps:{value:3}},[e._v("Bending moment")]),e._v(" "),s("option",{domProps:{value:4}},[e._v("Rotation")]),e._v(" "),s("option",{domProps:{value:5}},[e._v("Displacement")])])]),e._v(" "),s("div",[s("label",[e._v("Node results")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.config.nodeResults,expression:"config.nodeResults"}],staticClass:"cell cell-input form-control form-control-sm",staticStyle:{height:"1.5rem","font-size":".75rem"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.config,"nodeResults",t.target.multiple?s:s[0])}}},[s("option",{domProps:{value:0}},[e._v("None")]),e._v(" "),s("option",{domProps:{value:1}},[e._v("Reactions")]),e._v(" "),s("option",{domProps:{value:2}},[e._v("Displacements")])])]),e._v(" "),s("input-checkbox",{staticStyle:{"grid-column-start":"1"},attrs:{object:e.config,setting:"nodeLabels",label:"Node labels"}}),e._v(" "),s("input-checkbox",{attrs:{object:e.config,setting:"appliedForces",label:"Nodal loads"}}),e._v(" "),s("input-checkbox",{attrs:{object:e.config,setting:"supports",label:"Supports"}}),e._v(" "),s("input-checkbox",{attrs:{object:e.config,setting:"elementForces",label:"Axial forces"}}),e._v(" "),s("input-checkbox",{directives:[{name:"show",rawName:"v-show",value:0===e.config.analysisFlag,expression:"config.analysisFlag === 0"}],attrs:{object:e.config,setting:"diagramValues",label:"Values on diagram"}}),e._v(" "),s("input-checkbox",{attrs:{object:e.config,setting:"axes",label:"Axes"}}),e._v(" "),s("input-checkbox",{directives:[{name:"show",rawName:"v-show",value:1===e.config.analysisFlag,expression:"config.analysisFlag === 1"}],attrs:{object:e.config,setting:"trussColoring",label:"Truss coloring"}}),e._v(" "),s("div",{staticClass:"input-group input-group-sm",staticStyle:{"grid-column-start":"1",height:"1.5rem !important",display:"flex","align-items":"stretch"}},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-light",staticStyle:{"font-size":".75rem"},attrs:{type:"button"},on:{click:function(t){return e.$emit("loaded")}}},[e._v("Import")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.config.loadValue,expression:"config.loadValue"}],staticClass:"form-control form-control-sm",staticStyle:{"font-size":".75rem"},attrs:{type:"text"},domProps:{value:e.config.loadValue},on:{input:function(t){t.target.composing||e.$set(e.config,"loadValue",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-group input-group-sm",staticStyle:{"grid-column-start":"2",display:"flex","align-items":"stretch",height:"1.5rem"}},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-light",staticStyle:{"font-size":".75rem"},attrs:{type:"button"},on:{click:function(t){return e.$emit("saved")}}},[e._v("Export")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.config.saveValue,expression:"config.saveValue"}],staticClass:"form-control form-control-sm",staticStyle:{"font-size":".75rem"},attrs:{type:"text"},domProps:{value:e.config.saveValue},on:{focus:function(e){return e.target.select()},input:function(t){t.target.composing||e.$set(e.config,"saveValue",t.target.value)}}})])],1)])],2)},staticRenderFns:[]};var J=s("VU/8")(W,q,!1,function(e){s("ZZsv")},"data-v-f495a398",null).exports,K={name:"ElementPath",props:{element:Object,l:Number,endNodes:Array,endForces:Array,elementForce:Number,displacements:Array,view:Object,momentScale:Number,shearScale:Number,transform:Array,isActive:Boolean,colors:Object},data:function(){return{showStartMoment:!1,showEndMoment:!1,showStartShear:!1,showEndShear:!1}},computed:{displacementsLocal:function(){return g.a.multiply(this.displacements,g.a.inv(this.transform))},lDisplaced:function(){return this.l-g.a.number(this.displacementsLocal[0])+g.a.number(this.displacementsLocal[3])},xStart:function(){return this.view.x+this.view.scale*this.endNodes[0].coords[0]},yStart:function(){return this.view.y-this.view.scale*this.endNodes[0].coords[1]},xEnd:function(){return this.view.x+this.view.scale*this.endNodes[1].coords[0]},yEnd:function(){return this.view.y-this.view.scale*this.endNodes[1].coords[1]},xMid:function(){return(this.xStart+this.xEnd)/2},yMid:function(){return(this.yStart+this.yEnd)/2},xPerp:function(){return(-this.yStart+this.yEnd)/(this.l*this.view.scale)},yPerp:function(){return(-this.xEnd+this.xStart)/(this.l*this.view.scale)},elementPathDefinition:function(){return"M"+this.xStart+","+this.yStart+"L"+this.xEnd+","+this.yEnd},wPathDefinition:function(){var e="m"+12*this.xPerp*a()(-this.element.w[1])+","+12*this.yPerp*a()(-this.element.w[1])+"l"+(this.xEnd-this.xStart)/3*a()(-this.element.w[1])+","+(this.yEnd-this.yStart)/3*a()(-this.element.w[1])+"l"+(this.xEnd-this.xStart)/3*a()(-this.element.w[1])+","+(this.yEnd-this.yStart)/3*a()(-this.element.w[1])+"l"+(this.xEnd-this.xStart)/3*a()(-this.element.w[1])+","+(this.yEnd-this.yStart)/3*a()(-this.element.w[1]);return a()(this.element.w[1])<0?"M"+this.xStart+","+this.yStart+e:"M"+this.xEnd+","+this.yEnd+e},shearDiagramStartX:function(){var e=this.xStart-this.endForces[1]*this.shearScale*this.view.diagramScale*this.xPerp;return isNaN(e)?0:e},shearDiagramStartY:function(){var e=this.yStart-this.endForces[1]*this.shearScale*this.view.diagramScale*this.yPerp;return isNaN(e)?0:e},shearDiagramEndX:function(){var e=this.xEnd+this.endForces[4]*this.shearScale*this.view.diagramScale*this.xPerp;return isNaN(e)?0:e},shearDiagramEndY:function(){var e=this.yEnd+this.endForces[4]*this.shearScale*this.view.diagramScale*this.yPerp;return isNaN(e)?0:e},shearDiagram:function(){return"M"+this.shearDiagramStartX+","+this.shearDiagramStartY+"L"+this.shearDiagramEndX+","+this.shearDiagramEndY},momentDiagramStartX:function(){var e=this.xStart-this.endForces[2]*this.momentScale*this.view.diagramScale*this.xPerp;return isNaN(e)?0:e},momentDiagramStartY:function(){var e=this.yStart-this.endForces[2]*this.momentScale*this.view.diagramScale*this.yPerp;return isNaN(e)?0:e},momentDiagramEndX:function(){var e=this.xEnd+(.5*this.element.w[1]*this.l*this.l+this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.xPerp;return isNaN(e)?0:e},momentDiagramEndY:function(){var e=this.yEnd+(.5*this.element.w[1]*this.l*this.l+this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.yPerp;return isNaN(e)?0:e},momentDiagram:function(){return isNaN(this.endForces[1])?"":"M"+this.momentDiagramStartX+","+this.momentDiagramStartY+"Q"+(this.xMid+(.5*this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.xPerp)+","+(this.yMid+(.5*this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.yPerp)+" "+this.momentDiagramEndX+","+this.momentDiagramEndY},forceRounded:function(){return g.a.equal(this.elementForce,0)?0:this.elementForce.toPrecision(this.view.significantFigures)},wRounded:function(){return g.a.equal(this.element.w[1],0)?0:this.element.w[1].toPrecision(this.view.significantFigures)},shearStartRounded:function(){return g.a.equal(this.endForces[1],0)?0:(-this.endForces[1]).toPrecision(this.view.significantFigures)},shearEndRounded:function(){return g.a.equal(this.endForces[4],0)?0:this.endForces[4].toPrecision(this.view.significantFigures)},momentStartRounded:function(){return g.a.equal(this.endForces[2],0)?0:(-this.endForces[2]).toPrecision(this.view.significantFigures)},momentEndRounded:function(){return g.a.equal(this.endForces[5],0)?0:this.endForces[5].toPrecision(this.view.significantFigures)},xStartOffset:function(){return this.xStart+.125*(this.xEnd-this.xStart)},yStartOffset:function(){return this.yStart+.125*(this.yEnd-this.yStart)},xEndOffset:function(){return this.xStart+.875*(this.xEnd-this.xStart)},yEndOffset:function(){return this.yStart+.875*(this.yEnd-this.yStart)},topRotate:function(){return this.endNodes[0].coords[0]<this.endNodes[1].coords[0]?0:180},transformList:function(){return"rotate("+this.topRotate+" "+this.xMid+" "+this.yMid+")"}},methods:{}},Q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{on:{click:function(t){return e.$emit("selection",t,e.element)}}},[s("defs",[s("marker",{attrs:{id:"arrow",orient:"auto",markerWidth:"6",markerHeight:"20",refX:"3",refY:"0"}},[s("path",{staticClass:"load-arrow",attrs:{d:"M3,0 L3,10","marker-end":"url(#head)"}})])]),e._v(" "),s("path",{class:e.element.active?"path-element-active":"path-element",attrs:{id:"path"+e.element.id,d:e.elementPathDefinition}}),e._v(" "),s("path",{directives:[{name:"show",rawName:"v-show",value:0!==e.element.w[1]&&e.view.elementLoads,expression:"element.w[1] !== 0 && view.elementLoads"}],staticClass:"path-element-load",attrs:{id:"pathw"+e.element.id,d:e.wPathDefinition}}),e._v(" "),s("path",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams,expression:"view.momentDiagrams"}],staticClass:"path-moment-diagram",attrs:{d:e.momentDiagram}}),e._v(" "),s("path",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams,expression:"view.shearDiagrams"}],staticClass:"path-moment-diagram",attrs:{d:e.shearDiagram}}),e._v(" "),s("circle",{directives:[{name:"show",rawName:"v-show",value:e.element.releases[0],expression:"element.releases[0]"}],staticClass:"circle-release",attrs:{cx:e.xStartOffset,cy:e.yStartOffset,r:"2"}}),e._v(" "),s("circle",{directives:[{name:"show",rawName:"v-show",value:e.element.releases[1],expression:"element.releases[1]"}],staticClass:"circle-release",attrs:{cx:e.xEndOffset,cy:e.yEndOffset,r:"2"}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.elementForces,expression:"view.elementForces"}],staticClass:"select-all",staticStyle:{fill:"white"},attrs:{transform:e.transformList}},[s("textPath",{attrs:{href:"#path"+e.element.id,startOffset:"50%","text-anchor":"middle"}},[s("tspan",{attrs:{dy:"-.25em"}},[e._v(e._s(e.forceRounded))])])]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:0!==e.element.w[1]&&e.view.elementLoads,expression:"element.w[1] !== 0 && view.elementLoads"}],staticClass:"select-all"},[s("textPath",{attrs:{href:"#pathw"+e.element.id,startOffset:"50%","text-anchor":"middle"}},[s("tspan",{staticClass:"load-text",attrs:{dy:"-0.25em"}},[e._v(e._s(Math.abs(e.wRounded)))])])]),e._v(" "),s("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams,expression:"view.momentDiagrams"}],staticClass:"circle-diagram",attrs:{cx:e.momentDiagramStartX,cy:e.momentDiagramStartY,r:e.showStartMoment?8:4},on:{mouseenter:function(t){e.showStartMoment=!0},mouseleave:function(t){e.showStartMoment=!1}}}),e._v(" "),s("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams,expression:"view.momentDiagrams"}],staticClass:"circle-diagram",attrs:{cx:e.momentDiagramEndX,cy:e.momentDiagramEndY,r:e.showEndMoment?8:4},on:{mouseenter:function(t){e.showEndMoment=!0},mouseleave:function(t){e.showEndMoment=!1}}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams&&(e.view.diagramValues||e.showStartMoment),expression:"view.momentDiagrams && (view.diagramValues || showStartMoment)"}],attrs:{x:e.momentDiagramStartX,y:e.momentDiagramStartY,dx:"4",dy:"-8",fill:"white"}},[e._v(e._s(e.momentStartRounded)+"\n\t\t")]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams&&(e.view.diagramValues||e.showEndMoment),expression:"view.momentDiagrams && (view.diagramValues || showEndMoment)"}],attrs:{x:e.momentDiagramEndX,y:e.momentDiagramEndY,dx:"4",dy:"-8",fill:"white"}},[e._v(e._s(e.momentEndRounded)+"\n\t\t")]),e._v(" "),s("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams,expression:"view.shearDiagrams"}],staticClass:"circle-diagram",attrs:{cx:e.shearDiagramStartX,cy:e.shearDiagramStartY,r:e.showStartShear?8:4},on:{mouseenter:function(t){e.showStartShear=!0},mouseleave:function(t){e.showStartShear=!1}}}),e._v(" "),s("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams,expression:"view.shearDiagrams"}],staticClass:"circle-diagram",attrs:{cx:e.shearDiagramEndX,cy:e.shearDiagramEndY,r:e.showEndShear?8:4},on:{mouseenter:function(t){e.showEndShear=!0},mouseleave:function(t){e.showEndShear=!1}}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams&&(e.view.diagramValues||e.showStartShear),expression:"view.shearDiagrams && (view.diagramValues || showStartShear)"}],attrs:{x:e.shearDiagramStartX,y:e.shearDiagramStartY,dx:"4",dy:"-8",fill:"white"}},[e._v(e._s(e.shearStartRounded)+"\n\t\t")]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams&&(e.view.diagramValues||e.showEndShear),expression:"view.shearDiagrams && (view.diagramValues || showEndShear)"}],attrs:{x:e.shearDiagramEndX,y:e.shearDiagramEndY,dx:"4",dy:"-8",fill:"white"}},[e._v(e._s(e.shearEndRounded)+"\n\t\t")])])},staticRenderFns:[]};var ee=s("VU/8")(K,Q,!1,function(e){s("ukPo")},"data-v-1992cc94",null).exports,te={name:"ElementPathAxial",props:{element:Object,l:Number,endNodes:Array,endForces:Array,elementForce:Number,displacements:Array,view:Object,transform:Array,isActive:Boolean,colors:Object,maxAxial:Number,trussColoring:Boolean},data:function(){return{showStartMoment:!1,showEndMoment:!1,showStartShear:!1,showEndShear:!1}},computed:{displacementsLocal:function(){return g.a.multiply(this.displacements,g.a.inv(this.transform))},lDisplaced:function(){return this.l-g.a.number(this.displacementsLocal[0])+g.a.number(this.displacementsLocal[3])},xStart:function(){return this.view.x+this.view.scale*this.endNodes[0].coords[0]},yStart:function(){return this.view.y-this.view.scale*this.endNodes[0].coords[1]},xEnd:function(){return this.view.x+this.view.scale*this.endNodes[1].coords[0]},yEnd:function(){return this.view.y-this.view.scale*this.endNodes[1].coords[1]},xMid:function(){return(this.xStart+this.xEnd)/2},yMid:function(){return(this.yStart+this.yEnd)/2},xPerp:function(){return(-this.yStart+this.yEnd)/(this.l*this.view.scale)},yPerp:function(){return(-this.xEnd+this.xStart)/(this.l*this.view.scale)},elementPathDefinition:function(){return"M"+this.xStart+","+this.yStart+"L"+this.xEnd+","+this.yEnd},forceRounded:function(){return g.a.equal(this.elementForce,0)?0:this.elementForce.toPrecision(this.view.significantFigures)},elementColor:function(){return this.element.active?"#ffff00":this.trussColoring&&!g.a.equal(this.maxAxial,0)?"rgb("+(this.elementForce<.001?255*Math.pow(1+this.elementForce/this.maxAxial,2):255)+", "+(this.elementForce>-.001?255*Math.pow(1-this.elementForce/this.maxAxial,2):255*(1+1*this.elementForce/this.maxAxial))+", "+(this.elementForce>-.001?255*Math.pow(1-this.elementForce/this.maxAxial,2):255)+")":"#ffffff"},topRotate:function(){return this.endNodes[0].coords[0]<this.endNodes[1].coords[0]?0:180},transformList:function(){return"rotate("+this.topRotate+" "+this.xMid+" "+this.yMid+")"}},methods:{}},se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{on:{click:function(t){return e.$emit("selection",t,e.element)}}},[s("defs",[s("marker",{attrs:{id:"arrow",orient:"auto",markerWidth:"6",markerHeight:"20",refX:"3",refY:"0"}},[s("path",{staticClass:"load-arrow",attrs:{d:"M3,0 L3,10","marker-end":"url(#head)"}})])]),e._v(" "),s("path",{class:[e.element.active?"path-element-active":"path-element"],style:{stroke:e.elementColor},attrs:{id:"path"+e.element.id,d:e.elementPathDefinition}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.elementForces,expression:"view.elementForces"}],staticClass:"select-all",staticStyle:{fill:"white"},attrs:{transform:e.transformList}},[s("textPath",{attrs:{href:"#path"+e.element.id,startOffset:"50%","text-anchor":"middle"}},[s("tspan",{attrs:{dy:"-.25em"}},[e._v(e._s(e.forceRounded))])])])])},staticRenderFns:[]};var ne=s("VU/8")(te,se,!1,function(e){s("KsRR")},"data-v-ebe7200a",null).exports,ie={name:"ElementRow",components:{InputNumber:_,InputNumberCheckbox:N},props:{element:Object,nodes:Array,materials:Array,sections:Array,analysisFlag:Number},data:function(){return{showOptions:!1}},computed:{optionsArrow:function(){return this.showOptions?"▲":"▼"}}},ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"list-item",on:{mouseenter:function(t){e.element.active=!0},mouseleave:function(t){e.element.active=!1}}},[s("div",{staticClass:"list-item-row"},[s("div",{staticClass:"cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.element.n,expression:"element.n"}],staticClass:"cell-input form-control form-control-sm form-control-plaintext",staticStyle:{"min-width":"2rem"},attrs:{type:"text"},domProps:{value:e.element.n},on:{input:function(t){t.target.composing||e.$set(e.element,"n",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"cell"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.element.ends[0],expression:"element.ends[0]"}],staticClass:"cell-input form-control form-control-sm input-select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.element.ends,0,t.target.multiple?s:s[0])}}},e._l(e.nodes,function(t,n){return s("option",{key:t.id,domProps:{value:n}},[e._v(e._s(t.n))])}),0)]),e._v(" "),s("div",{staticClass:"cell"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.element.ends[1],expression:"element.ends[1]"}],staticClass:"cell-input form-control form-control-sm input-select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.element.ends,1,t.target.multiple?s:s[0])}}},e._l(e.nodes,function(t,n){return s("option",{key:t.id,domProps:{value:n}},[e._v(e._s(t.n))])}),0)]),e._v(" "),s("div",{staticClass:"cell"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.element.material,expression:"element.material"}],staticClass:"cell-input form-control form-control-sm input-select",staticStyle:{"min-width":"4rem"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.element,"material",t.target.multiple?s:s[0])}}},e._l(e.materials,function(t,n){return s("option",{key:t.id,domProps:{value:n}},[e._v(e._s(t.n))])}),0)]),e._v(" "),s("div",{staticClass:"cell"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.element.section,expression:"element.section"}],staticClass:"cell-input form-control form-control-sm input-select",staticStyle:{"min-width":"4rem"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.element,"section",t.target.multiple?s:s[0])}}},e._l(e.sections,function(t,n){return s("option",{key:t.id,domProps:{value:n}},[e._v(e._s(t.n))])}),0)]),e._v(" "),s("input-number",{directives:[{name:"show",rawName:"v-show",value:0===e.analysisFlag,expression:"analysisFlag === 0"}],staticClass:"cell row-options",attrs:{title:"distributed load",step:.1},model:{value:e.element.w[0],callback:function(t){e.$set(e.element.w,0,t)},expression:"element.w[0]"}}),e._v(" "),s("input-number",{directives:[{name:"show",rawName:"v-show",value:0===e.analysisFlag,expression:"analysisFlag === 0"}],staticClass:"cell row-options",attrs:{title:"distributed load",step:.1},model:{value:e.element.w[1],callback:function(t){e.$set(e.element.w,1,t)},expression:"element.w[1]"}}),e._v(" "),s("input-number-checkbox",{directives:[{name:"show",rawName:"v-show",value:0===e.analysisFlag,expression:"analysisFlag === 0"}],staticStyle:{"min-width":"1.25rem"},model:{value:e.element.releases[0],callback:function(t){e.$set(e.element.releases,0,t)},expression:"element.releases[0]"}}),e._v(" "),s("input-number-checkbox",{directives:[{name:"show",rawName:"v-show",value:0===e.analysisFlag,expression:"analysisFlag === 0"}],staticStyle:{"min-width":"1.25rem"},model:{value:e.element.releases[1],callback:function(t){e.$set(e.element.releases,1,t)},expression:"element.releases[1]"}}),e._v(" "),s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-danger delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[s("i",{staticClass:"icon-close"})])])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"row-options"},[s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-secondary options",class:{"icon-expand-more":!e.showOptions,"icon-expand-less":e.showOptions},attrs:{type:"button"}})])])])},staticRenderFns:[]};var oe=s("VU/8")(ie,ae,!1,function(e){s("R0RM")},"data-v-3eb6c794",null).exports,re={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table-dark row-submission"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.i,expression:"i"}],staticClass:"cell cell-input form-control form-control-sm",attrs:{placeholder:"#"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.i=t.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",disabled:"",hidden:"",value:""}},[e._v("N1")]),e._v(" "),e._l(e.nodes,function(t,n){return s("option",{key:t.id,domProps:{value:n}},[e._v(e._s(t.n))])})],2),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.j,expression:"j"}],staticClass:"cell cell-input form-control form-control-sm",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitElement(t)},change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.j=t.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",disabled:"",hidden:"",value:""}},[e._v("N2")]),e._v(" "),e._l(e.nodes,function(t,n){return s("option",{key:t.id,domProps:{value:n}},[e._v(e._s(t.n))])})],2),e._v(" "),s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-success submit",attrs:{type:"button"},on:{click:e.submitElement}},[s("i",{staticClass:"icon-add"})])])])},staticRenderFns:[]};var le=s("VU/8")({name:"ElementRowAdd",props:["elements","nodes"],data:function(){return{i:null,j:null}},methods:{submitElement:function(){this.$emit("submit",{ends:[this.i,this.j]})}}},re,!1,function(e){s("wP+r")},"data-v-37a1dbc4",null).exports,ce={name:"MaterialRow",components:{InputNumber:_,InputNumberCheckbox:N},props:{material:Object,analysisFlag:Number},data:function(){return{showOptions:!1}}},de={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"list-item"},[s("div",{staticClass:"list-item-row"},[s("div",{staticClass:"cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.material.n,expression:"material.n"}],staticClass:"cell-input input-sm form-control form-control-sm form-control-plaintext",staticStyle:{"min-width":"4rem"},attrs:{type:"text",title:e.material.n},domProps:{value:e.material.n},on:{input:function(t){t.target.composing||e.$set(e.material,"n",t.target.value)}}})]),e._v(" "),s("input-number",{staticClass:"cell row-options",attrs:{title:"Elastic modulus, E"},model:{value:e.material.E,callback:function(t){e.$set(e.material,"E",t)},expression:"material.E"}}),e._v(" "),s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-danger delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[s("i",{staticClass:"icon-close"})])])],1)])},staticRenderFns:[]};var ue=s("VU/8")(ce,de,!1,function(e){s("M8hW")},"data-v-65f60f48",null).exports,he={name:"NodeCircle",props:{node:Object,i:Number,displacements:Array,reactions:Array,view:Object,colors:Object},computed:{dx:function(){return""===this.node.coords[0]?0:this.node.coords[0]*this.view.scale},dy:function(){return""===this.node.coords[1]?0:this.node.coords[1]*this.view.scale},x:function(){return this.view.x+this.dx},y:function(){return this.view.y-this.dy},fX:function(){return""===this.node.qx?0:this.node.loads[0]},fY:function(){return""===this.node.qy?0:this.node.loads[1]},mZ:function(){return""===this.node.qz?0:this.node.loads[2]},f:function(){return g.a.sqrt(Math.pow(this.fX,2)+Math.pow(this.fY,2))},fRounded:function(){return this.f.toPrecision(this.view.significantFigures)},mZRounded:function(){return Math.abs(this.mZ.toPrecision(this.view.significantFigures))},rxRounded:function(){return this.roundSig(this.reactions[0])},ryRounded:function(){return this.roundSig(this.reactions[1])},rzRounded:function(){return this.roundSig(this.reactions[2])},dxRounded:function(){return this.roundSig(this.displacements[0])},dyRounded:function(){return this.roundSig(this.displacements[1])},dzRounded:function(){return this.roundSig(this.displacements[2])},reactionXTriangle:function(){return this.x-6+","+this.y+" "+(this.x-11)+","+(this.y-4)+" "+(this.x-11)+","+(this.y+4)},reactionYTriangle:function(){return this.x+","+(this.y+6)+" "+(this.x+4)+","+(this.y+11)+" "+(this.x-4)+","+(this.y+11)},reactionZTriangle:function(){return this.x-4+","+(this.y+4)+" "+(this.x-10.3)+","+(this.y+4.7)+" "+(this.x-4.7)+","+(this.y+10.3)},forcePathDefinition:function(){return 0===this.f?"":"M"+(this.x-50*this.fX/this.f)+","+(this.y+50*this.fY/this.f)+"L"+(this.x-10*this.fX/this.f)+","+(this.y+10*this.fY/this.f)},momentPathDefinition:function(){return 0===this.mZ?"":"M"+(this.x-7.5)+","+(this.y+13*g.a.sign(this.mZ))+"A 15 15 0 1 "+(g.a.sign(this.mZ)-1)/-2+(this.x-7.5)+","+(this.y-13*g.a.sign(this.mZ))},forceTextX:function(){return 0===this.f?0:this.x-55*this.fX/this.f},forceTextY:function(){return 0===this.f?0:this.y+55*this.fY/this.f}},methods:{roundSig:function(e){return g.a.equal(e,0)?0:e.toPrecision(this.view.significantFigures)}}},me={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:(t.stopPropagation(),e.$emit("selection",t,e.i))}}},[s("defs",[s("marker",{attrs:{id:"head",orient:"auto",markerWidth:"6",markerHeight:"6",refX:"2.5",refY:"3"}},[s("path",{staticClass:"load-arrow",attrs:{d:"M1,1 L3,3 L1,5"}})])]),e._v(" "),s("circle",{staticClass:"circle-node",attrs:{fill:e.colors.nodeFill,cx:e.x,cy:e.y,r:e.node.active?4:2}}),e._v(" "),s("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"circle-node",attrs:{fill:e.colors.nodeFill,cx:e.x,cy:e.y,r:e.node.active?7:5}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"node-label",staticStyle:{"stroke-width":"2px",stroke:"#ffffff"},attrs:{x:e.x,y:e.y+3.5}},[e._v(e._s(e.node.n))]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"node-label",attrs:{x:e.x,y:e.y+3.5}},[e._v(e._s(e.node.n))]),e._v(" "),s("path",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.f,expression:"view.appliedForces && f !== 0"}],staticClass:"path-force",attrs:{d:e.forcePathDefinition}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.f,expression:"view.appliedForces && f !== 0"}],staticClass:"load-text",attrs:{x:e.forceTextX,y:e.forceTextY}},[e._v(e._s(e.fRounded))]),e._v(" "),s("path",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.mZ,expression:"view.appliedForces && mZ !== 0"}],staticClass:"path-force",attrs:{d:e.momentPathDefinition}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.mZ,expression:"view.appliedForces && mZ !== 0"}],staticClass:"load-text",attrs:{x:e.x+13,y:e.y-13}},[e._v(e._s(e.mZRounded))]),e._v(" "),s("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.fixity[0]&&e.view.supports,expression:"node.fixity[0] && view.supports"}],staticClass:"support fx",attrs:{points:e.reactionXTriangle}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.fixity[0],expression:"view.reactions && node.fixity[0]"}],staticClass:"fx",attrs:{x:e.x-20,y:e.y+3}},[e._v(e._s(e.rxRounded))]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"fx",attrs:{x:e.x-20,y:e.y+3}},[e._v(e._s(e.dxRounded))]),e._v(" "),s("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.fixity[1]&&e.view.supports,expression:"node.fixity[1] && view.supports"}],staticClass:"support fy",attrs:{points:e.reactionYTriangle}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.fixity[1],expression:"view.reactions && node.fixity[1]"}],staticClass:"fy",attrs:{x:e.x-5,y:e.y+25}},[e._v(e._s(e.ryRounded))]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"fy",attrs:{x:e.x-5,y:e.y+25}},[e._v(e._s(e.dyRounded))]),e._v(" "),s("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.fixity[2]&&e.view.supports,expression:"node.fixity[2] && view.supports"}],staticClass:"support mz",attrs:{points:e.reactionZTriangle}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.fixity[2],expression:"view.reactions && node.fixity[2]"}],staticClass:"mz",attrs:{x:e.x-20,y:e.y+25}},[e._v(e._s(e.rzRounded))]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"mz",attrs:{x:e.x-20,y:e.y+25}},[e._v(e._s(e.dzRounded))])])},staticRenderFns:[]};var fe=s("VU/8")(he,me,!1,function(e){s("H1YY")},"data-v-24aa0ba2",null).exports,pe={name:"NodeCircleAxial",props:{node:Object,i:Number,displacements:Array,reactions:Array,view:Object,colors:Object},computed:{dx:function(){return""===this.node.coords[0]?0:this.node.coords[0]*this.view.scale},dy:function(){return""===this.node.coords[1]?0:this.node.coords[1]*this.view.scale},x:function(){return this.view.x+this.dx},y:function(){return this.view.y-this.dy},fX:function(){return""===this.node.qx?0:this.node.loads[0]},fY:function(){return""===this.node.qy?0:this.node.loads[1]},f:function(){return g.a.sqrt(Math.pow(this.fX,2)+Math.pow(this.fY,2))},fRounded:function(){return this.f.toPrecision(this.view.significantFigures)},rxRounded:function(){return this.roundSig(this.reactions[0])},ryRounded:function(){return this.roundSig(this.reactions[1])},dxRounded:function(){return this.roundSig(this.displacements[0])},dyRounded:function(){return this.roundSig(this.displacements[1])},reactionXTriangle:function(){return this.x-6+","+this.y+" "+(this.x-11)+","+(this.y-4)+" "+(this.x-11)+","+(this.y+4)},reactionYTriangle:function(){return this.x+","+(this.y+6)+" "+(this.x+4)+","+(this.y+11)+" "+(this.x-4)+","+(this.y+11)},forcePathDefinition:function(){return 0===this.f?"":"M"+(this.x-50*this.fX/this.f)+","+(this.y+50*this.fY/this.f)+"L"+(this.x-10*this.fX/this.f)+","+(this.y+10*this.fY/this.f)},forceTextX:function(){return 0===this.f?0:this.x-55*this.fX/this.f},forceTextY:function(){return 0===this.f?0:this.y+55*this.fY/this.f}},methods:{roundSig:function(e){return g.a.equal(e,0)?0:e.toPrecision(this.view.significantFigures)}}},ve={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:(t.stopPropagation(),e.$emit("selection",t,e.i))}}},[s("defs",[s("marker",{attrs:{id:"head",orient:"auto",markerWidth:"6",markerHeight:"6",refX:"2.5",refY:"3"}},[s("path",{staticClass:"load-arrow",attrs:{d:"M1,1 L3,3 L1,5"}})])]),e._v(" "),s("circle",{staticClass:"circle-node",attrs:{fill:e.colors.nodeFill,cx:e.x,cy:e.y,r:e.node.active?4:2}}),e._v(" "),s("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"circle-node",attrs:{fill:e.colors.nodeFill,cx:e.x,cy:e.y,r:e.node.active?7:5}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"node-label",staticStyle:{"stroke-width":"2px",stroke:"#ffffff"},attrs:{x:e.x,y:e.y+3.5}},[e._v(e._s(e.node.n))]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"node-label",attrs:{x:e.x,y:e.y+3.5}},[e._v(e._s(e.node.n))]),e._v(" "),s("path",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.f,expression:"view.appliedForces && f !== 0"}],staticClass:"path-force",attrs:{d:e.forcePathDefinition}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.f,expression:"view.appliedForces && f !== 0"}],staticClass:"load-text",attrs:{x:e.forceTextX,y:e.forceTextY}},[e._v(e._s(e.fRounded))]),e._v(" "),s("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.fixity[0]&&e.view.supports,expression:"node.fixity[0] && view.supports"}],staticClass:"support fx",attrs:{points:e.reactionXTriangle}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.fixity[0],expression:"view.reactions && node.fixity[0]"}],staticClass:"fx",attrs:{x:e.x-20,y:e.y+3}},[e._v(e._s(e.rxRounded))]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"fx",attrs:{x:e.x-20,y:e.y+3}},[e._v(e._s(e.dxRounded))]),e._v(" "),s("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.fixity[1]&&e.view.supports,expression:"node.fixity[1] && view.supports"}],staticClass:"support fy",attrs:{points:e.reactionYTriangle}}),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.fixity[1],expression:"view.reactions && node.fixity[1]"}],staticClass:"fy",attrs:{x:e.x-5,y:e.y+25}},[e._v(e._s(e.ryRounded))]),e._v(" "),s("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"fy",attrs:{x:e.x-5,y:e.y+25}},[e._v(e._s(e.dyRounded))])])},staticRenderFns:[]};var ge=s("VU/8")(pe,ve,!1,function(e){s("IJZR")},"data-v-9eb57afa",null).exports,we={name:"NodeRow",components:{InputNumber:_,InputNumberCheckbox:N},props:{node:Object,nodes:Array,analysisFlag:Number},data:function(){return{showOptions:!1}}},ye={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"list-item",on:{mouseenter:function(t){e.node.active=!0},mouseleave:function(t){e.node.active=!1}}},[s("div",{staticClass:"list-item-row"},[s("div",{staticClass:"cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.node.n,expression:"node.n"}],staticClass:"cell-input form-control form-control-sm form-control-plaintext",staticStyle:{"min-width":"2rem"},attrs:{type:"text"},domProps:{value:e.node.n},on:{input:function(t){t.target.composing||e.$set(e.node,"n",t.target.value)}}})]),e._v(" "),s("input-number",{staticClass:"cell",model:{value:e.node.coords[0],callback:function(t){e.$set(e.node.coords,0,t)},expression:"node.coords[0]"}}),e._v(" "),s("input-number",{staticClass:"cell",model:{value:e.node.coords[1],callback:function(t){e.$set(e.node.coords,1,t)},expression:"node.coords[1]"}}),e._v(" "),s("input-number-checkbox",{staticStyle:{"min-width":"1.25rem"},model:{value:e.node.fixity[0],callback:function(t){e.$set(e.node.fixity,0,t)},expression:"node.fixity[0]"}}),e._v(" "),s("input-number",{staticClass:"cell row-options",model:{value:e.node.loads[0],callback:function(t){e.$set(e.node.loads,0,t)},expression:"node.loads[0]"}}),e._v(" "),s("input-number-checkbox",{staticStyle:{"min-width":"1.25rem"},model:{value:e.node.fixity[1],callback:function(t){e.$set(e.node.fixity,1,t)},expression:"node.fixity[1]"}}),e._v(" "),s("input-number",{staticClass:"cell row-options",model:{value:e.node.loads[1],callback:function(t){e.$set(e.node.loads,1,t)},expression:"node.loads[1]"}}),e._v(" "),s("input-number-checkbox",{directives:[{name:"show",rawName:"v-show",value:0===e.analysisFlag,expression:"analysisFlag === 0"}],staticStyle:{"min-width":"1.25rem"},model:{value:e.node.fixity[2],callback:function(t){e.$set(e.node.fixity,2,t)},expression:"node.fixity[2]"}}),e._v(" "),s("input-number",{directives:[{name:"show",rawName:"v-show",value:0===e.analysisFlag,expression:"analysisFlag === 0"}],staticClass:"cell row-options",model:{value:e.node.loads[2],callback:function(t){e.$set(e.node.loads,2,t)},expression:"node.loads[2]"}}),e._v(" "),s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-danger delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[s("i",{staticClass:"icon-close"})])])],1)])},staticRenderFns:[]};var xe=s("VU/8")(we,ye,!1,function(e){s("gFvd")},"data-v-a2d74dbe",null).exports,be={name:"NodeRowAdd",props:{nodes:Array},data:function(){return{newNodeX:"",newNodeY:""}},methods:{submitNode:function(){this.$emit("submit",{coords:[""===this.newNodeX?0:this.newNodeX,""===this.newNodeY?0:this.newNodeY]})}}},_e={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table-dark row-submission"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newNodeX,expression:"newNodeX",modifiers:{number:!0}}],staticClass:"cell-input form-control form-control-sm",attrs:{type:"text",placeholder:"x",oninput:"this.value = this.value.replace(/[^0-9.-]/g, '').replace(/(\\\\..*)\\\\./g, '$1')"},domProps:{value:e.newNodeX},on:{input:function(t){t.target.composing||(e.newNodeX=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newNodeY,expression:"newNodeY",modifiers:{number:!0}}],staticClass:"cell-input form-control form-control-sm",attrs:{type:"text",placeholder:"y",oninput:"this.value = this.value.replace(/[^0-9.-]/g, '').replace(/(\\\\..*)\\\\./g, '$1')"},domProps:{value:e.newNodeY},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitNode(t)},input:function(t){t.target.composing||(e.newNodeY=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-success submit",attrs:{type:"button"},on:{click:e.submitNode}},[e._m(0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("b",[t("i",{staticClass:"icon-add"})])}]};var Ee=s("VU/8")(be,_e,!1,function(e){s("NxXB")},"data-v-75c7614d",null).exports,Ne={name:"SectionRow",components:{InputNumber:_,InputNumberCheckbox:N},props:{section:Object,analysisFlag:Number},data:function(){return{showOptions:!1}}},Se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"list-item"},[s("div",{staticClass:"list-item-row"},[s("div",{staticClass:"cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.section.n,expression:"section.n"}],staticClass:"cell-input input-sm form-control form-control-sm form-control-plaintext",staticStyle:{"min-width":"4rem"},attrs:{type:"text",title:e.section.n},domProps:{value:e.section.n},on:{input:function(t){t.target.composing||e.$set(e.section,"n",t.target.value)}}})]),e._v(" "),s("input-number",{staticClass:"cell row-options",attrs:{title:"Area, A"},model:{value:e.section.A,callback:function(t){e.$set(e.section,"A",t)},expression:"section.A"}}),e._v(" "),s("input-number",{staticClass:"cell row-options",attrs:{title:"Moment of inertia about z, Iz"},model:{value:e.section.Iz,callback:function(t){e.$set(e.section,"Iz",t)},expression:"section.Iz"}}),e._v(" "),s("input-number",{directives:[{name:"show",rawName:"v-show",value:0===e.analysisFlag,expression:"analysisFlag === 0"}],staticClass:"cell row-options",attrs:{title:"Shear area, Ay"},model:{value:e.section.Ay,callback:function(t){e.$set(e.section,"Ay",t)},expression:"section.Ay"}}),e._v(" "),s("input-number",{directives:[{name:"show",rawName:"v-show",value:0===e.analysisFlag,expression:"analysisFlag === 0"}],staticClass:"cell row-options",attrs:{title:"Plastic section modulus, Zz"},model:{value:e.section.Zz,callback:function(t){e.$set(e.section,"Zz",t)},expression:"section.Zz"}}),e._v(" "),s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-danger delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[s("i",{staticClass:"icon-close"})])])],1)])},staticRenderFns:[]};var Fe={name:"App",components:{ArrayList:k,BabylonCanvas:H,CanvasSettings:J,ElementPath:ee,ElementPathAxial:ne,ElementRow:oe,ElementRowAdd:le,InputNumber:_,MaterialRow:ue,NodeCircle:fe,NodeCircleAxial:ge,NodeRow:xe,NodeRowAdd:Ee,SectionRow:s("VU/8")(Ne,Se,!1,function(e){s("bmEy")},"data-v-77e5da4e",null).exports},data:function(){return{activeElement:null,captureButton:-1,captureToggle:!1,colors:{nodeFill:"#ffffff",elementFill:"#ffffff"},analysisFlag:0,config:{analysisFlag:0,appliedForces:!0,axes:!0,significantFigures:3,display:!1,diagramScale:1,diagramSegments:6,diagramType:1,displacedShapeDiagrams:!1,elementForces:!0,elementLoads:!0,momentDiagrams:!1,diagramValues:!1,mode:"navigate",panel:"nodes",nodeLabels:!0,nodeResults:1,x:256,y:200,reactions:!0,scale:3,scaleMin:.01,scaleMax:40,shearDiagrams:!1,snapIncrement:1,supports:!0,trussColoring:!0,nodeTableVisibility:!0,elemTableVisibility:!0,canvasW:512,canvasH:472,loadValue:"",saveValue:""},cursor:{x:0,y:0},drawElem:{ends:[null,null],material:0,section:0,releases:[!1,!1]},elements:[],input:{},materials:[],nextNodeId:1,nextElementId:1,nextMaterialId:1,nextSectionId:1,nodes:[],panX:0,panY:0,prevDiff:-1,midX:0,midY:0,scroll:0,sections:[]}},computed:{nDOF:function(){return 1===this.config.analysisFlag?2*this.nodes.length:3*this.nodes.length},concentratedLoads:function(){return 1===this.config.analysisFlag?this.nodes.map(function(e){return e.loads.slice(0,-1)}):this.nodes.map(function(e){return e.loads})},fixity:function(){return 1===this.config.analysisFlag?this.nodes.map(function(e){return[e.fixity[0]?0:NaN,e.fixity[1]?0:NaN]}):this.nodes.map(function(e){return[e.fixity[0]?0:NaN,e.fixity[1]?0:NaN,e.fixity[2]?0:NaN]})},fixityReshaped:function(){return 0===this.fixity.length?[]:g.a.reshape(this.fixity,[1,this.nDOF])[0]},degF:function(){return this.fixityReshaped.map(function(e,t){return isNaN(e)?t:NaN}).filter(function(e){return!isNaN(e)})},degS:function(){return this.fixityReshaped.map(function(e,t){return 0==e?t:NaN}).filter(function(e){return!isNaN(e)})},nElements:function(){return this.nodes.map(function(e){return e.incElements[0].length+e.incElements[1].length})},nReleases:function(){for(var e=[],t=0;t<this.nodes.length;t++){for(var s=this.nodes[t],n=0,i=0;i<s.incElements[0].length;i++)s.incElements[0][i].releases[0]&&n++;for(var a=0;a<s.incElements[1].length;a++)s.incElements[1][a].releases[1]&&n++;e.push(n)}return e},nodeDOF:function(){return 1===this.config.analysisFlag?this.nodes.map(function(e,t){return[2*t,2*t+1]}):this.nodes.map(function(e,t){return[3*t,3*t+1,3*t+2]})},elementEnds:function(){return this.elements.map(function(e){return[].concat(p()(e.ends),p()(e.releases))})},elementDOF:function(){var e=this;return this.elementEnds.map(function(t){return e.nodeDOF[t[0]].concat(e.nodeDOF[t[1]])})},elementLengths:function(){var e=this;return this.elements.map(function(t){return e.getElementLength(t)})},elementTransformations:function(){var e=this;return this.elements.map(function(t,s){return e.getElementTransform(t,s)})},elementStiffnessMatricesLocal:function(){var e=this;return this.elements.map(function(t,s){return e.getElementKLocal(t,s)})},elementStiffnessMatrices:function(){var e=this;return this.elements.map(function(t,s){return e.getElementKGlobal(t,s)})},elementFixedEndForcesLocal:function(){var e=this;return this.elements.map(function(t,s){return e.computeElementFixedEndForces(t,s)})},elementFixedEndForcesGlobal:function(){var e=this;return this.elementFixedEndForcesLocal.map(function(t,s){return g.a.multiply(g.a.transpose(e.elementTransformations[s]),t)})},pF:function(){return 0===this.degF.length?[]:g.a.subset(g.a.reshape(this.concentratedLoads,[this.nDOF,1]),g.a.index(this.degF,0))},pS:function(){return g.a.subset(g.a.reshape(this.concentratedLoads,[this.nDOF,1]),g.a.index(this.degS,0))},fef:function(){var e=this;return this.elementFixedEndForcesGlobal.reduce(function(t,s,n){return g.a.subset(t,g.a.index(e.elementDOF[n],0),g.a.add(g.a.subset(t,g.a.index(e.elementDOF[n],0)),s))},g.a.zeros(this.nDOF,1))},fefF:function(){return 0===this.degF.length?[]:g.a.subset(this.fef,g.a.index(this.degF,0))},fefS:function(){return g.a.subset(this.fef,g.a.index(this.degS,0))},kAssembled:function(){if(0===this.elementDOF.length)return[];for(var e=g.a.zeros(this.nDOF,this.nDOF),t=0;t<this.elements.length;t++){var s=this.elementStiffnessMatrices[t],n=g.a.index(this.elementDOF[t],this.elementDOF[t]),i=g.a.subset(e,n);e=g.a.subset(e,n,g.a.add(i,s))}return g.a.matrix(e,"sparse")},kFF:function(){return 0===this.kAssembled.length||0===this.degF.length?[]:g.a.subset(this.kAssembled,g.a.index(this.degF,this.degF))},kSF:function(){return 0===this.kAssembled.length||0===this.degF.length||0===this.degS.length?[]:g.a.subset(this.kAssembled,g.a.index(this.degS,this.degF))},condEst:function(){return g.a.log10(this.estimateCondition(this.kFF))},isUnstable:function(){return this.condEst>12||0===this.condEst||isNaN(this.condEst)||this.condEst<0||this.degF.length<1},dF:function(){return this.isUnstable?null:1===this.degF.length?g.a.lusolve([[this.kFF]],[[g.a.subtract(this.pF,this.fefF)]]):g.a.lusolve(this.kFF,g.a.subtract(this.pF,this.fefF))},d:function(){return this.isUnstable?null:1===this.degF.length?g.a.subset(g.a.zeros(this.nDOF,1),g.a.index(this.degF,0),this.dF[0][0]):g.a.subset(g.a.zeros(this.nDOF,1),g.a.index(this.degF,0),g.a.matrix(this.dF))},fS:function(){return this.isUnstable?null:g.a.add(g.a.multiply(this.kSF,this.dF),g.a.subtract(this.fefS,this.pS))},f:function(){return this.isUnstable?null:g.a.subset(g.a.zeros(this.nDOF,1),g.a.index(this.degS,0),this.fS)},displacements:function(){return this.isUnstable?1===this.config.analysisFlag?this.nodes.map(function(e){return[NaN,NaN]}):this.nodes.map(function(e){return[NaN,NaN,NaN]}):1===this.config.analysisFlag?g.a.reshape(this.d,[this.nodes.length,2])._data:g.a.reshape(this.d,[this.nodes.length,3])._data},reactions:function(){return this.isUnstable?this.nodes.map(function(e){return[NaN,NaN,NaN]}):1===this.config.analysisFlag?g.a.reshape(this.f,[this.nodes.length,2])._data:g.a.reshape(this.f,[this.nodes.length,3])._data},elementForces:function(){var e=this;return this.isUnstable?this.elements.map(function(e){return[NaN,NaN,NaN,NaN,NaN,NaN]}):this.elementStiffnessMatricesLocal.map(function(t,s){return g.a.transpose(g.a.add(g.a.multiply(t,e.elementTransformations[s],g.a.subset(e.d,g.a.index(e.elementDOF[s],0))),e.elementFixedEndForcesLocal[s]))._data[0]})},elementAxials:function(){return 1===this.config.analysisFlag?this.elementForces.map(function(e){return e[1]}):this.elementForces.map(function(e){return e[3]})},elementDisplacements:function(){var e=this;return this.elementEnds.map(function(t,s){return e.displacements[t[0]].concat(e.displacements[t[1]])})},elementDisplacementsLocal:function(){var e=this;return this.elementDisplacements.map(function(t,s){return g.a.multiply(e.elementTransformations[s],t)})},axisXDef:function(){return"M0,"+this.config.y+"L1920,"+this.config.y},axisYDef:function(){return"M"+this.config.x+",0L"+this.config.x+",1080"},drawElemDef:function(){return"M"+(null!==this.drawElem.ends[0]?this.nodes[this.drawElem.ends[0]].coords[0]*this.config.scale+this.config.x:0)+","+(null!==this.drawElem.ends[0]?-this.nodes[this.drawElem.ends[0]].coords[1]*this.config.scale+this.config.y:0)+"L"+this.cursor.x+","+this.cursor.y},elementMaxAxial:function(){for(var e=0,t=0;t<this.elements.length;t++)g.a.larger(g.a.abs(this.elementAxials[t]),e)&&(e=g.a.abs(this.elementAxials[t]));return e},elementMaxMoment:function(){if(1===this.config.analysisFlag)return 1;for(var e=0,t=g.a.number(this.elementForces),s=0;s<this.elements.length;s++)if(e=g.a.max(g.a.abs(t[s][2]),e),e=g.a.max(g.a.abs(t[s][5]),e),0!==this.elements[s].w[1]){var n=this.elementLengths[s]/2,i=-t[s][2]+t[s][1]*n+this.elements[s].w[1]/2*Math.pow(n,2);e=g.a.max(g.a.abs(i),e)}return e},elementMaxShear:function(){if(1===this.config.analysisFlag)return 1;for(var e=0,t=g.a.number(this.elementForces),s=0;s<this.elements.length;s++)e=g.a.max(g.a.abs(t[s][1]),e),e=g.a.max(g.a.abs(t[s][4]),e);return e},elementMaxLoad:function(){for(var e=0,t=this.elements,s=0;s<t.length;s++)e=g.a.max(g.a.abs(t[s].w[1]),e);return e},elementMaxDisp:function(){if(1===this.config.analysisFlag)return 1;for(var e=0,t=this.elementForces,s=this.elementDisplacementsLocal,n=0;n<this.elements.length;n++)if(e=g.a.max(g.a.abs(s[n][1]),e),e=g.a.max(g.a.abs(s[n][4]),e),0!==this.elements[n].w[1]){var i=this.elementLengths[n]/2,a=s[n][1]+s[n][2]*i+(-t[n][2]/2*Math.pow(i,2)+t[n][1]/6*Math.pow(i,3)+this.elements[n].w[1]/24*Math.pow(i,4))/this.materials[this.elements[n].material].E/this.sections[this.elements[n].section].Iz;e=g.a.max(g.a.abs(a),e)}return e},elementMaxRotation:function(){if(1===this.config.analysisFlag)return 1;for(var e=0,t=this.elementForces,s=this.elementDisplacementsLocal,n=0;n<this.elements.length;n++)if(e=g.a.max(g.a.abs(s[n][2]),e),e=g.a.max(g.a.abs(s[n][5]),e),0!==this.elements[n].w[1]){var i=this.elementLengths[n]/2,a=s[n][2]+(-t[n][2]*i+.5*t[n][1]*Math.pow(i,2)+this.elements[n].w[1]/6*Math.pow(i,3))/this.materials[this.elements[n].material].E/this.sections[this.elements[n].section].Iz;e=g.a.max(g.a.abs(a),e)}return e},diagramScales:function(){return{w:0===this.elementMaxLoad?1:45/this.elementMaxLoad,v:0===this.elementMaxShear?1:45/this.elementMaxShear,m:0===this.elementMaxMoment?1:45/this.elementMaxMoment,r:0===this.elementMaxRotation?1:45/this.elementMaxRotation,d:0===this.elementMaxDisp?1:45/this.elementMaxDisp}}},created:function(){this.initProperties(),this.initStructure(),window.addEventListener("beforeunload",function(e){return(e=e||window.event)&&(e.returnValue="Sure?"),"Sure?"})},mounted:function(){window.addEventListener("resize",this.resizeWindow)},methods:{initProperties:function(){this.addSection({n:"s1",A:1,Iz:100,Iy:100,J:100,Cw:1,Ay:1,Az:1,Zz:1,Zy:1}),this.addMaterial({n:"m1",E:29e3,v:1,Fy:1,yieldSurface:[0,0,0],specificWeight:1}),this.config.scale=.35},initStructure:function(){this.addNodes([{coords:[0,0],fixity:[!0,!0,!0]},{coords:[500,0],fixity:[!1,!1,!1]},{coords:[1e3,0],fixity:[!1,!1,!1]}]),this.addElement({ends:[0,1],w:[0,1]}),this.addElement({ends:[1,2],w:[0,1]}),this.config.analysisFlag=0},getElementLength:function(e){return g.a.norm(g.a.subtract(this.nodes[e.ends[1]].coords,this.nodes[e.ends[0]].coords))},getElementTransform:function(e,t){var s=this.nodes[e.ends[1]].coords[0]-this.nodes[e.ends[0]].coords[0],n=this.nodes[e.ends[1]].coords[1]-this.nodes[e.ends[0]].coords[1],i=this.elementLengths[t],a=s/i,o=n/i;return 1===this.config.analysisFlag?[[a,o,0,0],[0,0,a,o]]:[[a,o,0,0,0,0],[-o,a,0,0,0,0],[0,0,1,0,0,0],[0,0,0,a,o,0],[0,0,0,-o,a,0],[0,0,0,0,0,1]]},getElementKLocal:function(e,t){var s=this.elementLengths[t],n=this.materials[e.material],i=this.sections[e.section],a=n.E,o=i.A,r=void 0;if(1===this.config.analysisFlag)return r=[[o,-o],[-o,o]],g.a.multiply(r,a/s);var l=12*i.Iz/Math.pow(s,2),c=6*i.Iz/s,d=2*i.Iz,u=4*i.Iz,h=3*i.Iz/Math.pow(s,2),m=3*i.Iz/s,f=3*i.Iz;return r=e.releases[0]&&e.releases[1]?[[o,0,0,-o,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[-o,0,0,o,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]]:!e.releases[0]&&e.releases[1]?[[o,0,0,-o,0,0],[0,h,m,0,-h,0],[0,m,f,0,-m,0],[-o,0,0,o,0,0],[0,-h,-m,0,h,0],[0,0,0,0,0,0]]:e.releases[0]&&!e.releases[1]?[[o,0,0,-o,0,0],[0,h,0,0,-h,m],[0,0,0,0,0,0],[-o,0,0,o,0,0],[0,-h,0,0,h,-m],[0,m,0,0,-m,f]]:[[o,0,0,-o,0,0],[0,l,c,0,-l,c],[0,c,u,0,-c,d],[-o,0,0,o,0,0],[0,-l,-c,0,l,-c],[0,c,d,0,-c,u]],g.a.multiply(r,a/s)},getElementKGlobal:function(e,t){var s=this.elementTransformations[t];return g.a.multiply(g.a.transpose(s),this.elementStiffnessMatricesLocal[t],s)},computeElementFixedEndForces:function(e,t){var s=e.w[0],n=e.w[1],i=this.elementLengths[t];return 1===this.config.analysisFlag?[[-s*i/2],[-s*i/2]]:[[-s*i/2],[-n*i/2],[-n*i*i/12],[-s*i/2],[-n*i/2],[n*i*i/12]]},estimateCondition:function(e){var t=this;if(this.degF.length<2)return 2;var s=g.a.subset(g.a.size(e),g.a.index(0));if(s<1)return 1e20;if(g.a.abs(g.a.det(e))<1e-10||isNaN(g.a.det(e)))return NaN;for(var n=g.a.divide(g.a.ones(s,1),s),i=0,a=g.a.identity(s),o=function(){var i=g.a.lusolve(e,n),o=g.a.lusolve(g.a.transpose(e),g.a.sign(i)),r=0,l=0;if(o.forEach(function(e,t,s){g.a.abs(e)>r&&(r=g.a.abs(e),l=t[0])}),r<=g.a.multiply(g.a.transpose(o),n)._data[0][0])return{v:g.a.multiply(g.a.sum(g.a.abs(i)),g.a.max(t.sumCols(g.a.abs(e))))};n=g.a.subset(a,g.a.index(g.a.range(0,s),l))._data};i++<20;){var r=o();if("object"===(void 0===r?"undefined":m()(r)))return r.v}return 1},sumRows:function(e){var t=g.a.zeros(e.size()[0],1);return e.forEach(function(e,s,n){t.subset(g.a.index(s[0],0),t.subset(g.a.index(s[0],0))+e)}),t},sumCols:function(e){var t=g.a.zeros(1,e.size()[1]);return e.forEach(function(e,s,n){t.subset(g.a.index(0,s[1]),t.subset(g.a.index(0,s[1]))+e)}),t},saveStructure:function(){for(var e={nodes:[],elements:[]},t=0;t<this.nodes.length;t++){var s=this.nodes[t],n=(s.id,s.active,s.incElements,u()(s,["id","active","incElements"]));e.nodes.push(n)}for(var i=0;i<this.elements.length;i++){var a=this.elements[i],o=(a.id,a.active,u()(a,["id","active"]));e.elements.push(o)}return c()(e)},loadStructure:function(e){if(!this.isJSON(e))return!1;var t=JSON.parse(e);if(void 0===t.nodes||void 0===t.elements)return!1;this.clearStructure();for(var s=0;s<t.nodes.length;s++)this.addNode(t.nodes[s]);for(var n=0;n<t.elements.length;n++)this.addElement(t.elements[n]);return!0},clearStructure:function(){this.nodes=[],this.elements=[]},isJSON:function(e){if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(e){return!1}},addNode:function(e){e=r()({id:"n"+this.nextNodeId++,n:this.nodes.length+1,coords:[0,0],loads:[0,0,0],fixity:[!1,!1,!1],fixedDisp:[0,0,0],incElements:[[],[]],active:!1},e),this.nodes.push(e)},addNodes:function(e){for(var t=0;t<e.length;t++)this.addNode(e[t])},addElement:function(e){e.ends[0]!==e.ends[1]&&(e=r()({id:"e"+this.nextElementId++,n:this.elements.length+1,ends:[0,1],releases:[!1,!1],material:0,section:0,w:[0,0],active:!1},e),this.elements.push(e),this.nodes[e.ends[0]].incElements[0].push(e),this.nodes[e.ends[1]].incElements[1].push(e))},addMaterial:function(e){e=r()({id:"m"+this.nextMaterialId++,n:this.materials.length+1,E:29e3,v:1,specificWeight:1},e),this.materials.push(e)},addSection:function(e){e=r()({id:"s"+this.nextSectionId++,n:this.sections.length+1,A:1,Iz:1,Zz:1,Ay:1},e),this.sections.push(e)},removeNode:function(e){for(var t=0;t<this.elements.length;t++){var s=this.elements[t];s.ends[0]!==e&&s.ends[1]!==e||(this.removeElement(t),t--),s.ends[0]>e&&s.ends[0]--,s.ends[1]>e&&s.ends[1]--}this.nodes.splice(e,1)},removeElement:function(e){for(var t=this.nodes[this.elements[e].ends[0]].incElements[0],s=this.nodes[this.elements[e].ends[0]].incElements[1],n=this.nodes[this.elements[e].ends[1]].incElements[0],i=this.nodes[this.elements[e].ends[1]].incElements[1],a=0;a<t.length;a++)t[a]===this.elements[e]&&t.splice(a,1);for(var o=0;o<s.length;o++)s[o]===this.elements[e]&&s.splice(o,1);for(var r=0;r<n.length;r++)n[r]===this.elements[e]&&n.splice(r,1);for(var l=0;l<i.length;l++)i[l]===this.elements[e]&&i.splice(l,1);this.elements.splice(e,1)},removeMaterial:function(e){if(0!==e){for(var t=0;t<this.elements.length;t++)this.elements[t].material===e&&(this.elements[t].material=0);this.materials.splice(e,1)}},removeSection:function(e){if(0!==e){for(var t=0;t<this.elements.length;t++)this.elements[t].section===e&&(this.elements[t].section=0);this.sections.splice(e,1)}},resizeWindow:function(){},togglePanel:function(e){this.config.panel===e?this.config.panel="":this.config.panel=e},getCanvasWidth:function(){return parseFloat(window.getComputedStyle(this.$refs.canvas).width)},getCanvasHeight:function(){return parseFloat(window.getComputedStyle(this.$refs.canvas).height)},handleMouseDown:function(e,t){switch(console.log("mouse down"),this.config.mode){case"navigate":this.panOn(e);break;case"draw-node":var s=this.$refs.canvasContainer.$refs.canvas.getBoundingClientRect(),n=Math.round((e.x-s.x-this.config.x)/this.config.scale/this.config.snapIncrement)*this.config.snapIncrement,i=-Math.round((e.y-s.y-this.config.y)/this.config.scale/this.config.snapIncrement)*this.config.snapIncrement;this.addNode({coords:[n,i]});break;case"draw-elem":void 0!==t?null===this.drawElem.ends[0]?(this.drawElem.ends[0]=t,this.nodes[t].active=!0):this.nodes[t].id!==this.nodes[this.drawElem.ends[0]].id&&(this.drawElem.ends[1]=t,this.addElement({ends:[].concat(p()(this.drawElem.ends)),releases:[].concat(p()(this.drawElem.releases)),material:0,section:0}),this.nodes[this.drawElem.ends[0]].active=!1,this.drawElem.ends=[null,null]):null!==this.drawElem.ends[0]&&(this.nodes[this.drawElem.ends[0]].active=!1,this.drawElem.ends=[null,null])}},handleMouseDown2:function(e,t){switch(this.config.mode){case"navigate":this.panOn(e);break;case"draw-node":this.drawNode(e.x,e.y);break;case"draw-elem":if(254===t[0]&&254===t[1]){var s=t[2];null===this.drawElem.ends[0]?(this.drawElem.ends[0]=s,this.nodes[s].active=!0):this.nodes[s].id!==this.nodes[this.drawElem.ends[0]].id&&(this.drawElem.ends[1]=s,this.addElement({ends:[].concat(p()(this.drawElem.ends)),releases:[].concat(p()(this.drawElem.releases)),material:0,section:0}),this.nodes[this.drawElem.ends[0]].active=!1,this.drawElem.ends=[null,null])}else null!==this.drawElem.ends[0]&&(this.nodes[this.drawElem.ends[0]].active=!1,this.drawElem.ends=[null,null])}},handleMouseMove:function(e){this.cursor.x=Math.round(e.x/this.config.snapIncrement)*this.config.snapIncrement,this.cursor.y=Math.round(e.y/this.config.snapIncrement)*this.config.snapIncrement},drawNode:function(e,t){this.addNode({coords:[this.cursor.x,this.cursor.y]})},panOn:function(e){window.getSelection().empty(),this.captureToggle=!0,this.captureButton=e.button,this.panX=this.config.x-e.pageX,this.panY=this.config.y-e.pageY},panOnTouch:function(e){if(2===e.touches.length){e.preventDefault(),this.captureToggle=!0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;this.panX=this.config.x-t,this.panY=this.config.y-s,this.prevDiff=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2))}},panOff:function(e){this.captureToggle=!1,this.captureButton=-1},panOffTouch:function(e){e.preventDefault(),this.captureToggle=!1},panMove:function(e){if(this.captureToggle&&(this.config.x=e.x+this.panX,this.config.y=e.y+this.panY),"draw-node"===this.config.mode||"draw-elem"===this.config.mode){var t=this.config.snapIncrement*this.config.scale,s=this.$refs.canvas.getBoundingClientRect();this.cursor.x=Math.round((e.x-s.x-this.config.x)/t)*t+this.config.x,this.cursor.y=Math.round((e.y-s.y-this.config.y)/t)*t+this.config.y}},panMoveTouch:function(e){if(2===e.touches.length){e.preventDefault();var t=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2,n=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2)),i=.02*(n-this.prevDiff)*this.config.scale;if(g.a.abs(n-this.prevDiff)>2&&this.config.scale+i>this.config.scaleMin&&this.config.scale+i<this.config.scaleMax){var a=this.$refs.canvas.getBoundingClientRect();this.config.x-=i/this.config.scale*(t-a.x-this.config.x),this.config.y-=i/this.config.scale*(s-a.y-this.config.y),this.panX=this.config.x-t,this.panY=this.config.y-s,this.config.scale=g.a.round(this.config.scale+i,3)}this.prevDiff=n,this.captureToggle&&(this.config.x=t+this.panX,this.config.y=s+this.panY)}},zoomCanvas:function(e){var t=-.1*a()(e.deltaY)*this.config.scale;if(this.config.scale+t>this.config.scaleMin&&this.config.scale+t<this.config.scaleMax){var s=this.$refs.canvas.getBoundingClientRect();this.config.x-=t/this.config.scale*(e.pageX-s.x-this.config.x),this.config.y-=t/this.config.scale*(e.pageY-s.y-this.config.y),this.config.scale=g.a.round(this.config.scale+t,3)}},zoomFit:function(){for(var e=0,t=0,s=0,n=0,i=0;i<this.nodes.length;i++){var a=this.nodes[i];e=Math.min(e,a.coords[0]),t=Math.max(t,a.coords[0]),s=Math.min(s,a.coords[1]),n=Math.max(n,a.coords[1])}this.input={command:"zoom-fit",x:(e+t)/2,y:(s+n)/2,z:10*Math.max(t-e,n-s),width:t-e,height:n-s}}}},Ce={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"app",attrs:{id:"app"}},[s("canvas-settings",{attrs:{id:"canvas-settings-container",config:e.config},on:{loaded:function(t){return e.loadStructure(e.config.loadValue)},saved:function(t){e.config.saveValue=e.saveStructure()}}},[s("div",{staticClass:"bar",attrs:{id:"canvas-header"}},[s("div",{staticClass:"home"},[s("a",{attrs:{href:"https://timmngo.github.io"}},[e._v("timmngo.github.io")])]),e._v(" "),s("button",{staticClass:"btn btn-outline-dark",class:{toggled:"navigate"===e.config.mode},attrs:{title:"Pan"},on:{click:function(t){e.config.mode="navigate",e.config.display=!1}}},[s("i",{staticClass:"icon-pan-outline"})]),e._v(" "),s("button",{staticClass:"btn btn-outline-dark",attrs:{title:"Zoom fit"},on:{click:e.zoomFit}},[s("i",{staticClass:"icon-crop-free"})]),e._v(" "),s("button",{staticClass:"btn btn-outline-dark",class:{toggled:"draw-node"===e.config.mode},attrs:{title:"Draw node"},on:{click:function(t){e.config.mode="draw-node",e.config.display=!1}}},[s("i",{staticClass:"icon-draw-node-outline"})]),e._v(" "),s("button",{staticClass:"btn btn-outline-dark",class:{toggled:"draw-elem"===e.config.mode},attrs:{title:"Draw element"},on:{click:function(t){e.config.mode="draw-elem",e.config.display=!1}}},[s("i",{staticClass:"icon-create-elem-outline"})]),e._v(" "),s("button",{staticClass:"btn btn-outline-dark",attrs:{title:"Settings"},on:{click:function(t){e.config.display=!e.config.display,e.config.mode="navigate"}}},[s("i",{staticClass:"icon-settings"})])])]),e._v(" "),s("babylon-canvas",{ref:"canvasContainer",attrs:{config:e.config,nodes:e.nodes,elements:e.elements,"forces-axial":e.elementAxials,"force-axial-max":e.elementMaxAxial,"forces-end":e.elementForces,materials:e.materials,sections:e.sections,"diagram-scales":e.diagramScales,"node-reactions":e.reactions,"node-displacements":e.displacements,"element-displacements":e.elementDisplacementsLocal,input:e.input},on:{pointerdown:e.handleMouseDown2,pointermove:e.handleMouseMove}}),e._v(" "),s("div",{staticClass:"properties"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"draw-node"===e.config.mode,expression:"config.mode==='draw-node'"}],staticClass:"panel"},[s("span",[e._v("Draw node")]),e._v(" "),s("label",[e._v("X")]),e._v(" "),s("div",[e._v("\n\t\t\t\t\t"+e._s(e.cursor.x)+"\n\t\t\t\t")]),e._v(" "),s("label",[e._v("Y")]),e._v(" "),s("div",[e._v("\n\t\t\t\t\t"+e._s(-e.cursor.y)+"\n\t\t\t\t")]),e._v(" "),s("label",[e._v("Snap increment")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.config.snapIncrement,expression:"config.snapIncrement"}],attrs:{type:"number",min:"1"},domProps:{value:e.config.snapIncrement},on:{input:function(t){t.target.composing||e.$set(e.config,"snapIncrement",t.target.value)}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"draw-elem"===e.config.mode,expression:"config.mode==='draw-elem'"}],staticClass:"panel"},[s("span",[e._v("Draw element")]),e._v(" "),s("label",[e._v("Material")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.drawElem.material,expression:"drawElem.material"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.drawElem,"material",t.target.multiple?s:s[0])}}},e._l(e.materials,function(t,n){return s("option",{key:t.id,domProps:{value:n}},[e._v(e._s(t.n))])}),0),e._v(" "),s("label",[e._v("Section")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.drawElem.section,expression:"drawElem.section"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.drawElem,"section",t.target.multiple?s:s[0])}}},e._l(e.sections,function(t,n){return s("option",{key:t.id,domProps:{value:n}},[e._v(e._s(t.n))])}),0),e._v(" "),s("label",[e._v("Start release")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.drawElem.releases[0],expression:"drawElem.releases[0]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.drawElem.releases[0])?e._i(e.drawElem.releases[0],null)>-1:e.drawElem.releases[0]},on:{change:function(t){var s=e.drawElem.releases[0],n=t.target,i=!!n.checked;if(Array.isArray(s)){var a=e._i(s,null);n.checked?a<0&&e.$set(e.drawElem.releases,0,s.concat([null])):a>-1&&e.$set(e.drawElem.releases,0,s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.drawElem.releases,0,i)}}})]),e._v(" "),s("label",[e._v("End release")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.drawElem.releases[1],expression:"drawElem.releases[1]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.drawElem.releases[1])?e._i(e.drawElem.releases[1],null)>-1:e.drawElem.releases[1]},on:{change:function(t){var s=e.drawElem.releases[1],n=t.target,i=!!n.checked;if(Array.isArray(s)){var a=e._i(s,null);n.checked?a<0&&e.$set(e.drawElem.releases,1,s.concat([null])):a>-1&&e.$set(e.drawElem.releases,1,s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.drawElem.releases,1,i)}}})])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isUnstable&&e.nodes.length>0,expression:"isUnstable && nodes.length > 0"}],staticClass:"structure-info"},[e._v("Structure unstable")])]),e._v(" "),s("array-list",{directives:[{name:"show",rawName:"v-show",value:"nodes"===e.config.panel,expression:"config.panel === 'nodes'"}],attrs:{headings:0===e.config.analysisFlag?["#","x","y","","fx","","fy","","mz"]:["#","x","y","","fx","","fy"],widths:[2,3,3,1.25,3,1.25,3,1.25,3]}},[s("template",{slot:"header"},[s("div",{staticStyle:{display:"flex","min-height":"26px"}},[s("div",[e._v(e._s("Nodes")+" ("+e._s(e.nodes.length)+")")])]),e._v(" "),s("node-row-add",{attrs:{nodes:e.nodes},on:{submit:e.addNode}})],1),e._v(" "),e._l(e.nodes,function(t,n){return s("node-row",{directives:[{name:"show",rawName:"v-show",value:e.config.nodeTableVisibility,expression:"config.nodeTableVisibility"}],key:t.id,attrs:{node:t,nodes:e.nodes,analysisFlag:e.config.analysisFlag},on:{remove:function(t){return e.removeNode(n)},mouseenter:function(e){t.active=!0},mouseexit:function(e){t.active=!1}}})})],2),e._v(" "),s("array-list",{directives:[{name:"show",rawName:"v-show",value:"elements"===e.config.panel,expression:"config.panel === 'elements'"}],attrs:{headings:0===e.config.analysisFlag?["#","node i","node j","mat","sec","wx","wy","releases"]:["#","node i","node j","mat","sec"],widths:[2,3,3,4,4,3,3,2.5]}},[s("template",{slot:"header"},[s("div",{staticStyle:{display:"flex","min-height":"26px"}},[s("div",[e._v(e._s("Elements")+" ("+e._s(e.elements.length)+")")])]),e._v(" "),s("element-row-add",{attrs:{elements:e.elements,nodes:e.nodes},on:{submit:e.addElement}})],1),e._v(" "),e._l(e.elements,function(t,n){return s("element-row",{directives:[{name:"show",rawName:"v-show",value:e.config.elemTableVisibility,expression:"config.elemTableVisibility"}],key:t.id,attrs:{element:t,nodes:e.nodes,materials:e.materials,sections:e.sections,analysisFlag:e.config.analysisFlag},on:{remove:function(t){return e.removeElement(n)}}})})],2),e._v(" "),s("array-list",{directives:[{name:"show",rawName:"v-show",value:"materials"===e.config.panel,expression:"config.panel === 'materials'"}],attrs:{headings:(e.config.analysisFlag,["#","E"]),widths:[4,3,3,3,3,2]}},[s("template",{slot:"header"},[s("div",{staticStyle:{display:"flex","min-height":"26px"}},[s("div",[e._v(e._s("Materials")+" ("+e._s(e.materials.length)+")")])]),e._v(" "),s("div",{staticClass:"table-dark row-submission"},[s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-success submit",attrs:{type:"button"},on:{click:e.addMaterial}},[s("i",{staticClass:"icon-add"})])])])]),e._v(" "),e._l(e.materials,function(t,n){return s("material-row",{key:t.id,attrs:{material:t,analysisFlag:e.config.analysisFlag},on:{remove:function(t){return e.removeMaterial(n)}}})})],2),e._v(" "),s("array-list",{directives:[{name:"show",rawName:"v-show",value:"sections"===e.config.panel,expression:"config.panel === 'sections'"}],attrs:{headings:0===e.config.analysisFlag?["#","A","Iz","Ay","Zz"]:["#","A","Iz"],widths:[4,3,3,3,3]}},[s("template",{slot:"header"},[s("div",{staticStyle:{display:"flex","min-height":"26px"}},[s("div",[e._v(e._s("Sections")+" ("+e._s(e.sections.length)+")")])]),e._v(" "),s("div",{staticClass:"table-dark row-submission"},[s("div",{staticClass:"cell-button"},[s("button",{staticClass:"btn btn-outline-success submit",attrs:{type:"button"},on:{click:e.addSection}},[s("i",{staticClass:"icon-add"})])])])]),e._v(" "),e._l(e.sections,function(t,n){return s("section-row",{key:t.id,attrs:{section:t,analysisFlag:e.config.analysisFlag},on:{remove:function(t){return e.removeSection(n)}}})})],2),e._v(" "),s("div",{staticClass:"sidebar bar"},[s("button",{staticClass:"btn btn-outline-dark",class:{toggled:"nodes"===e.config.panel},attrs:{title:"Nodes"},on:{click:function(t){return e.togglePanel("nodes")}}},[s("i",{staticClass:"icon-big-nodes"})]),e._v(" "),s("button",{staticClass:"btn btn-outline-dark",class:{toggled:"elements"===e.config.panel},attrs:{title:"Elements"},on:{click:function(t){return e.togglePanel("elements")}}},[s("i",{staticClass:"icon-elements"})]),e._v(" "),s("button",{staticClass:"btn btn-outline-dark",class:{toggled:"materials"===e.config.panel},attrs:{title:"Materials"},on:{click:function(t){return e.togglePanel("materials")}}},[s("i",{staticClass:"icon-blocks"})]),e._v(" "),s("button",{staticClass:"btn btn-outline-dark",class:{toggled:"sections"===e.config.panel},attrs:{title:"Sections"},on:{click:function(t){return e.togglePanel("sections")}}},[s("i",{staticClass:"icon-section"})])])],1)},staticRenderFns:[]};var Me=s("VU/8")(Fe,Ce,!1,function(e){s("RRtz")},null,null).exports,ke=s("/ocq"),Re={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("div",[this._v("Help")])])}]};var Pe=s("VU/8")({name:"Help",data:function(){return{msg:"Welcome to Your Vue.js App"}}},Re,!1,function(e){s("4JYb")},"data-v-f10a6c50",null).exports;n.a.use(ke.a);var Ve=new ke.a({mode:"history",routes:[{path:"/help",name:"Help",component:Pe}]});s("5myX");n.a.config.productionTip=!1;var De=new n.a({el:"#app",router:Ve,components:{App:Me},template:"<App/>"});window.vm=De.$children[0]},NxXB:function(e,t){},R0RM:function(e,t){},RRtz:function(e,t){},YbH3:function(e,t){},ZZsv:function(e,t){},bmEy:function(e,t){},c0aT:function(e,t){},e5Eu:function(e,t){},gFvd:function(e,t){},kH9g:function(e,t){},llE5:function(e,t){},ukPo:function(e,t){},"wP+r":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7ec9fd985e77fbbb3ed8.js.map